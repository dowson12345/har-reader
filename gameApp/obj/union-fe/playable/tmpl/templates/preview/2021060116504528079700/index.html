<!DOCTYPE html><html><head><meta charset="utf-8"><link rel="shortcut icon" href="#"><title>playable</title><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="format-detection" content="telephone=no"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="msapplication-tap-highlight" content="no"><meta name="full-screen" content="yes"><meta name="x5-fullscreen" content="true"><meta name="360-fullscreen" content="true"><meta name="screen-orientation" content=""><meta name="x5-orientation" content=""><meta name="x5-page-mode" content="app"><style>html{-ms-touch-action:none;touch-action:none}body,canvas,div{display:block;outline:0;-webkit-tap-highlight-color:transparent;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;-webkit-tap-highlight-color:transparent}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}body{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;border:0;margin:0;cursor:default;color:#888;background-color:#333;text-align:center;font-family:Helvetica,Verdana,Arial,sans-serif;display:flex;flex-direction:column}#Cocos2dGameContainer{position:absolute;margin:0;overflow:hidden;left:0;top:0;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:center;-webkit-box-pack:center}canvas{background-color:rgba(0,0,0,0)}a:link,a:visited{color:#666}a:active,a:hover{color:#666}p.header{font-size:small}p.footer{font-size:x-small}#splash{position:absolute;top:0;left:0;width:100%;height:100%;background:#171717 no-repeat center;overflow:hidden}#splash-logo{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.progress-bar{position:absolute;left:50%;top:80%;transform:translate(-50%,0);width:50%;border-radius:30px;box-shadow:0 1px 5px #000 inset,0 1px 0 #444;background:#333}.progress-bar-bg{display:block;width:100%}.progress-bar-target{position:absolute;top:0;left:0;height:100%;border-radius:30px;transition:width .2s ease-in-out;background-color:#3dc5de;background-size:30px 30px;background-image:linear-gradient(135deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);animation:animate-stripes 1s linear infinite;min-height:4px;overflow:hidden}.progress-bar-target-image{height:100%;display:block}.progress-bar-bg-after,.progress-bar-target-image-after{display:none}.progress-bar-msg{position:absolute;top:80%;left:50%;transform:translate(-50%,-24px);color:#fff;text-shadow:1px 2px 3px rgba(0,0,0,.5);font:14px/1 '';white-space:nowrap;display:none}.progress-bar[data-type=default] .progress-bar-bg,.progress-bar[data-type=default] .progress-bar-target-image{display:none}.progress-bar[data-type=default] .progress-bar-target{position:static}.progress-bar[data-type=image]{background:0 0;box-shadow:none}.progress-bar[data-type=image] .progress-bar-bg[src=''],.progress-bar[data-type=image] .progress-bar-target-image[src='']{display:none}.progress-bar[data-type=image] .progress-bar-target{background:0 0;animation:none}.progress-bar[data-type=image] .progress-bar-bg[src='']+.progress-bar-bg-after{display:block;height:4px;width:100%}.progress-bar[data-type=image] .progress-bar-target-image[src='']+.progress-bar-target-image-after{display:block;height:100%;background-color:#3dc5de;background-size:30px 30px;background-image:linear-gradient(135deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);animation:animate-stripes 1s linear infinite;width:100%}@keyframes animate-stripes{0%{background-position:0 0}100%{background-position:60px 0}}</style><script>(function(i,s,o,g,r,a,m){i["SlardarMonitorObject"]=r;(i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)}),(i[r].l=1*new Date());(a=s.createElement(o)),(m=s.getElementsByTagName(o)[0]);a.async=1;a.src=g;a.crossOrigin="anonymous";m.parentNode.insertBefore(a,m);i[r].globalPreCollectError=function(){i[r]("precollect","error",arguments)};if(typeof i.addEventListener==="function"){i.addEventListener("error",i[r].globalPreCollectError,true);i.addEventListener('unhandledrejection', i[r].globalPreCollectError)}if('PerformanceLongTaskTiming'in i){var g=i[r].lt={e:[]};g.o=new PerformanceObserver(function(l){g.e=g.e.concat(l.getEntries())});g.o.observe({entryTypes:['longtask']})}})(window,document,"script","https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/browser.cn.js","Slardar");</script><script>window.Slardar("config", { bid: "playable_outsourcing", refreshPrecollectedContext: true });</script></head><body><canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas><div id="splash" style="background:#000"><img id="splash-logo" src=""><div class="progress-bar" data-type="image"><img src="" class="progress-bar-bg"><div class="progress-bar-bg-after"></div><div class="progress-bar-target"><img src="" class="progress-bar-target-image"><div class="progress-bar-target-image-after"></div></div></div><span class="progress-bar-msg">loading...</span></div><script src="https://sf3-ttcdn-tos.pstatp.com/obj/union-fe-nc/playable/sdk/playable-sdk.js"></script><script src="cocosengine.js"></script><audio id="MutedAudio" src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQyLjEwMQAAAAAAAAAAAAAA//NwAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAMAAAKgQAlJSUlJSUlJTk5OTk5OTk5TExMTExMTExgYGBgYGBgYGB0dHR0dHR0dIiIiIiIiIiInJycnJycnJycsLCwsLCwsLDExMTExMTExNjY2NjY2NjY2Ozs7Ozs7Ozs//////////8AAAAATGF2YzU4LjgyAAAAAAAAAAAAAAAAJAJAAAAAAAAACoE3pNURAAAAAAD/84BkAAAAAaQAAAAAAAADSAAAAABMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="></audio><script>function mutedAudioPlay() {const playResult = document.querySelector('audio').play();if( typeof playResult == 'object' ){playResult.then(function(){document.removeEventListener('touchstart',mutedAudioPlay,true);document.removeEventListener('touchend',mutedAudioPlay,true);})}};document.addEventListener('touchstart',mutedAudioPlay,true);document.addEventListener('touchend',mutedAudioPlay,true)</script><script type="text/javascript" charset="utf-8">window._CCSettings={platform:"web-mobile",groupList:["default"],collisionMatrix:[[true]],rawAssets:{assets:{},internal:{"0":["materials/builtin-unlit.mtl",1],"1":["effects/builtin-unlit.effect",0],"2":["effects/builtin-2d-gray-sprite.effect",0],"3":["materials/builtin-2d-gray-sprite.mtl",1],"5":["effects/builtin-3d-trail.effect",0],"6":["materials/builtin-3d-trail.mtl",1],"7":["effects/builtin-clear-stencil.effect",0],"8":["materials/builtin-clear-stencil.mtl",1],"9":["effects/builtin-2d-spine.effect",0],"10":["materials/builtin-2d-spine.mtl",1],"28dPjdQWxEQIG3VVl1Qm6T":["effects/builtin-2d-sprite.effect",0],"6fgBCSDDdPMInvyNlggls2":["materials/builtin-2d-base.mtl",1],"ecpdLyjvZBwrvm+cedCcQy":["materials/builtin-2d-sprite.mtl",1]}},assetTypes:["cc.EffectAsset","cc.Material"],launchScene:"db://assets/Scene/Main.fire",scenes:[{url:"db://assets/Scene/Main.fire",uuid:4}],packedAssets:{"079499991":[0,1],"07ce7530a":[2,3],"08cfa710e":["0awwPbmkNI46leXMb9sB4d","0dVL8PNapDILE7HKtVuO/w","14vOSWARJGFpBd2JD/eZRW","306mpw+ORIgLP6iK3ca+n7","33g8rYUF1BE5mvJq+qCI1Q","39tI9d1mFA6KscrWzyjLDL","3bjCyCcNtARIZp31oR96ij","4aLPCggm9AwrxYNCvylMN5","56cgeNuE9D76O5hn8GwXWO",4,"63maTPxQlBh6SSeqFTbMwC","65FhWOEoZCvo0c5X9UAOb/","67ipnH2AhIPrLyF9YPCa5b","79lt5IJM5Kv5OTXA6MAKUt","79lvM3rHtHPLLeibLm5/zP","7dy1X3bV1H+ruLo5sceHwz","83FdcHux1Dlqu9rsEeRYep","83pKXiftFENIY/7AM4HROF","88wywyEJBJwoULgep0fR9g","88zTG2d6pKK5kOX+keBSur","8aOHEGh6BBsIai54W6en+g","95yKj9c/tEpJ8e9jTLqfMW","98rnnl1vVAjoGr0X62Mirq","9a/Sb67Z9FS5bWKbX+hgPV","a2KWkszHNDwZFxjpj2WEmp","a2MjXRFdtLlYQ5ouAFv/+R","ad1iunQ0JAY77IzVHwZ3Yy","b2NIh+i1VNKZ/sL4RogLHn","b4PtKvCqdOC4fjIRhvsdFv","b58ZgPJptPYI/HSbuSadUW","b9VkGhFmVGd5YPoRFHZ9ab","b9X6b2oMNJbq1WsfqKEP5W","f3ZVWHn4NOloGgkLzdATYa"],"0a5cba09d":[5,6],"0d669730c":[7,8],"0e4bc3b03":[9,10],"0f4627be8":["02delMVqdBD70a/HSD99FK","0ei/wyAI9MVbZMuzHTAhvi","0fZA36/MpM8K0woR9Zm/GX","11g0joMo1KwrRzuU5LXmmh","17bTyUozpMjKJxgdgRVEis","1bwxpSetVBZJq49iua9FfG","1dgo9Tkb9OC5/cI0huKfD5","26baRTobhLRojvOYNuqRO6","33JbIIcYBORozuHzsAolRz","428cFpO0pOvKYQaoPhJ1Tu","43zwVBqPdOp4+l9/e9c07y","49NjcKW0VMz7c4TDueVdWi","4eBjpSkWVAF6pexbB/5Osa","51gKJD/Y9JA776/V6wgI6n","5b9iWzgjtKGpCPuf+58RSd","79vD7AdHJFw4iSeKmvo+WH","7chwztNh5Jp68EodAssZp9","9dGl8zGUJNs53RVSbDmCcS","a9ciKAc/xHX7nTfeMtjWcL","afEHMFvFJEiL/l3Dejb26R","b3JRZxMy1IQqLaXPNUWs4a","b6yE3EeftGo6mQQ7TRqiHX","baw89J0pFOk4nupQmERpHi","bbek8ZDdJKQb3AMM0zCmLX","c4711hBv5GqqBeaG8CwU2w","c5+2hB7I1IMIxFqO5PBSbd","dbKtFgBPpI3rzC0ONInVYw","dcfDKRhaJOVYg7s4p9w8ug","f8W2fxK19OVas0mJyvZl1w"]},md5AssetsMap:{},orientation:"",debug:false,subpackages:{},uuids:["2aKWBXJHxKHLvrBUi2yYZQ","6dkeWRTOBGXICfYQ7JUBnG","14TDKXr2NJ6LjvHPops74o","3ae7efMv1CLq2ilvUY/tQi","61rfu+NMNL6bJwC4cWQDkB","2afAA24LNP4YmYiaVLiivs","46bU+b5fROqIXVPG6aZWWK","c0BAyVxX9JzZy8EjFrc9DU","cffgu4qBxEqa150o1DmRAy","0ek66qC1NOQLjgYmi04HvX","7a/QZLET9IDreTiBfRn2PD"]};</script><script type="text/javascript" charset="utf-8">window.__require=function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return o(t[r][1][e]||e)},l,l.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AnimeLine:[function(e,t,n){"use strict";cc._RF.push(t,"2b991tw/BdLs6/gr0X3xRFG","AnimeLine"),Object.defineProperty(n,"__esModule",{value:!0});var i=window.requestAnimationFrame||function(e){cc.Canvas.instance.scheduleOnce(e)},o=function(){function e(t,n){this.time=0,this.animeList=[],this.animeOtherData=null,this.animeIndex=0,this.animeRepeatCount=1,this.endCallbacks=[],this.canReverse="false",this.node=null,this.isReverse=!1,this.status="",n&&(this.animeOtherData=n),this.node=t,e.list.push(this),e.start()}return e.prototype.delay=function(e){return this.animeList.push({time:e}),this},e.prototype.anime=function(e,t){if(void 0===e&&(e=0),"function"==typeof e)return this.callback(e);var n={time:0};return"object"==typeof e?n.props=e:(n.props=t,n.time=e),(e||t)&&this.animeList.push(n),this},e.prototype.callback=function(e){return this.animeList.push({time:0,callback:e}),this},e.prototype.show=function(){var e=this;return this.callback(function(){e.node.active=!0})},e.prototype.hide=function(){var e=this;return this.callback(function(){e.node.active=!1})},e.prototype.destroy=function(){var e=this;return this.callback(function(){e.node.destroy()})},e.prototype.pause=function(){this.status="pause"},e.prototype.play=function(){this.status="runing"},e.prototype.stop=function(){this.isReverse=!1,this.animeIndex=0,this.time=0,this.status="end"},e.prototype.run=function(){return this.isReverse=!1,this.status="runing",this.animeIndex=0,this.time=0,this.updateAnimeList(),this},e.prototype.runReverse=function(){return this.isReverse=!0,this.status="runing",this.animeIndex=this.animeList.length-1,this.time=this.animeList[this.animeIndex].time,this.updateAnimeList(),this},e.prototype.end=function(e){var t=this;return"function"==typeof e&&this.endCallbacks.push(e),new Promise(function(e){t.endCallbackResolve=e})},e.prototype.repeat=function(e){return void 0===e&&(e=1/0),this.animeRepeatCount=e,this},e.prototype.reverse=function(){return this.canReverse="true",this},e.prototype.update=function(e){"runing"===this.status&&(this.time+=(this.isReverse?-1:1)*e,this.updateAnimeList())},e.create=function(t,n){return t instanceof cc.Component?new e(t.node,n):new e(t,n)},e.start=function(){e.started||(e.started=!0,i(e.updateList))},e.prototype.parseAnime=function(t){var n=this;if(t.values||t.callback)return t;var i=[];return(Array.isArray(t.props)?t.props:[t.props]).forEach(function(t){t&&Object.keys(t).forEach(function(o){var a=t.easingType||"linear";if("callback"!==o)if("data"===o&&n.animeOtherData){var r={};for(var s in t.data)if(s in n.animeOtherData){var c=n.animeOtherData[s],u=e.getNumberDiff(t.data[s],c);r[s]={value:c+u,name:s,start:c,diff:u}}else r[s]={value:t.data[s],name:s,start:null,diff:null},n.animeOtherData[s]=t.data[s];i.push({name:o,easingType:a,dataValues:r})}else if("color"!==o){var l=n.node[o],p=e.getNumberDiff(t[o],l);i.push({name:o,diff:p,start:l,easingType:a})}else{var d={r:n.node.color.getR(),g:n.node.color.getG(),b:n.node.color.getB(),a:n.node.color.getA()},h=e.porseColor(t.color),f=e.getColorDiff(h,d);i.push({name:o,diff:f,start:d,easingType:a})}else i.push({name:o,easingType:a,callback:t.callback})})}),t.values=i,t},e.prototype.animeListIsEnd=function(){return(!1===this.isReverse&&this.animeIndex+1>this.animeList.length||!0===this.isReverse&&-1===this.animeIndex)&&(!1===this.isReverse&&"true"===this.canReverse?void this.runReverse():(this.animeRepeatCount--,this.animeRepeatCount>0?this.run():(this.stop(),this.endCallbacks.length>0&&this.endCallbacks.forEach(function(e){return e()}),this.endCallbackResolve&&this.endCallbackResolve()),!0))},e.prototype.animeIsCallback=function(t){var n=this;if("function"==typeof t.callback){var i=t.callback(this,this.animeOtherData);return i instanceof e&&(i=i.end()),i instanceof Promise?(i.then(function(){n.isReverse?(n.animeIndex--,n.time+=n.animeList[n.animeIndex].time):n.animeIndex++,n.status="runing",n.updateAnimeList()}),this.status="wait",!0):(this.isReverse?(this.animeIndex--,-1===this.animeIndex?this.time+=0:this.time+=this.animeList[this.animeIndex].time):this.animeIndex++,"runing"===this.status&&this.updateAnimeList(),!0)}return!1},e.prototype.updateTime=function(e){this.node&&0==this.node.isValid?this.stop():!1===this.isReverse&&this.time>=e.time?(this.animeIndex++,this.time-=e.time,this.updateAnimeList()):!0===this.isReverse&&this.time<=0&&(this.animeIndex--,this.animeIndex>=0?this.time+=this.animeList[this.animeIndex].time:this.time=-this.time,this.updateAnimeList())},e.prototype.updateAnimeList=function(){var t=this;if(this.node&&0==this.node.isValid)this.stop();else if(!this.animeListIsEnd()){var n=this.parseAnime(this.animeList[this.animeIndex]);if(!this.animeIsCallback(n)){var i=0;i=0===n.time?this.isReverse?0:1:this.time>=n.time?1:this.time<0?0:this.time/n.time,n.values.forEach(function(n){var o=e.getEasingFn(n.easingType).call(n.easingType,i);switch(n.name){case"data":Object.keys(n.dataValues).forEach(function(e){var i=n.dataValues[e];null!==i.start?t.animeOtherData[e]=i.start+o*i.diff:t.animeOtherData[e]=i.value});break;case"callback":n.callback({progress:i,easingProgress:o,data:t.animeOtherData,node:t.node,animeLine:t});break;case"color":var a=n.start.r+n.diff.r*o,r=n.start.g+n.diff.g*o,s=n.start.b+n.diff.b*o,c=n.start.a+n.diff.a*o;t.node.color=cc.color(a,r,s,c);break;default:t.node[n.name]=n.start+n.diff*o}}),this.updateTime(n)}}},e.stop=function(e){this.list.forEach(function(t){t.node===e&&t.stop()})},e.find=function(e){return this.list.find(function(t){return t.node===e})},e.getEasingFn=function(t){return"string"==typeof t?e.animeTypes[t]:"easing"in t?t.easing:e.animeTypes.linear},e.updateList=function(){if(i(e.updateList),!cc.game.isPaused()){var t=Date.now(),n=Math.min(.1,(t-e.lastTime)/1e3),o=[];e.lastTime=t,e.list.forEach(function(e){e.update(n),"end"!==e.status||o.push(e)}),o.forEach(function(t){e.list.splice(e.list.indexOf(t),1)})}},e.getNumberDiff=function(e,t){if("number"==typeof e)return e-t;if("string"==typeof e){if(/^(\d|\+|\-)/.test(e))return parseFloat(e);if(/^(\*)/.test(e))return t*parseFloat(e.slice(1))-t;if(/^(\/)/.test(e))return t/parseFloat(e.slice(1))-t}return 0},e.getColorDiff=function(e,t){return{r:e.r-t.r,g:e.g-t.g,b:e.b-t.b,a:e.a-t.a}},e.porseColor=function(e){var t=e;if("string"!=typeof t){if(Array.isArray(t)){var n=t[3]||255;return{r:t[0],g:t[0],b:t[0],a:n}}return{r:t.r,g:t.g,b:t.b,a:(n=t.a)||255}}if("#"===t[0]&&(t=t.slice(1)),3===t.length&&(t+="f"),4===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),6===t.length&&(t+="ff"),8===t.length)return{r:parseInt("0x"+t.slice(0,2)),g:parseInt("0x"+t.slice(2,4)),b:parseInt("0x"+t.slice(4,6)),a:parseInt("0x"+t.slice(6,8))}},e.started=!1,e.list=[],e.lastTime=Date.now(),e.animeTypes={linear:function(e){return Number(e)/1}},e}();n.default=o,cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"b5f954p6QBB+aSTn/u+4QYo","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,r=i.menu,s=function(){function e(){this.name="",this.audioClip=null,this.relativeVolume=1}return __decorate([a()],e.prototype,"name",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audioClip",void 0),e=__decorate([o("Audio")],e)}(),c=function(e){function t(){var t=e.call(this)||this;return t.nowBgm=null,t.bgmPlaying=!1,t.bgm=null,t.bgmVolume=1,t.bgmRelativeVolume=1,t.audios=[],n.instance=t,t}var n;return __extends(t,e),n=t,t.prototype.start=function(){var e=function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),n.playBgm()};document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),window.notAutoPlayBgm||n.playBgm()},t.getAudioClipByName=function(e){return n.instance.audios.find(function(t){return t.name===e}).audioClip},t.playBgm=function(e){if(e){var t=n.instance.audios.find(function(t){return t.name===e});n._playBgm(t.audioClip,n.instance.bgmVolume*n.instance.bgmRelativeVolume),n.instance.nowBgm=t.audioClip}else n._playBgm(n.instance.bgm,n.instance.bgmVolume*n.instance.bgmRelativeVolume),n.instance.nowBgm=n.instance.bgm},t.stopBgm=function(){n._stopAudio(n.instance.nowBgm)},t.resumeBgm=function(){n._resumeAudio(n.instance.nowBgm)},t.pauseBgm=function(){n._pauseAudio(n.instance.nowBgm)},t.stop=function(e){n._stopAudio(n.getAudioClipByName(e))},t.play=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1);var o=n.instance.audios.find(function(t){return t.name===e});o&&n._playAudio(o.audioClip,t*o.relativeVolume,i)},t.stopAll=function(){cc.audioEngine.stopAll(),this.audioIds={}},t._playAudio=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1),e&&(e in n.audioIdsTimeouts&&n.audioIdsTimeouts[e]+33>Date.now()||(n.audioIdsTimeouts[e]=Date.now(),n.audioIds[e]=cc.audioEngine.play(e,i,t)))},t._playBgm=function(e,t){void 0===t&&(t=1),e&&(e in n.audioIds?cc.audioEngine.getState(n.audioIds[e])!==cc.audioEngine.AudioState.PLAYING&&cc.audioEngine.resume(n.audioIds[e]):n.audioIds[e]=cc.audioEngine.play(e,!0,t))},t._resumeAudio=function(e){e&&e in n.audioIds&&cc.audioEngine.resume(n.audioIds[e])},t._pauseAudio=function(e){e&&e in n.audioIds&&cc.audioEngine.pause(n.audioIds[e])},t._stopAudio=function(e){e&&e in n.audioIds&&(cc.audioEngine.stop(n.audioIds[e]),delete n.audioIds[e])},t.instance=null,t.audioIds={},t.audioIdsTimeouts={},__decorate([a({type:cc.AudioClip})],t.prototype,"bgm",void 0),__decorate([a()],t.prototype,"bgmVolume",void 0),__decorate([a({type:[s]})],t.prototype,"audios",void 0),t=n=__decorate([o,r("\u901a\u7528\u7ec4\u4ef6/\u97f3\u9891\u7ba1\u7406\u5668")],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],AutoBackground:[function(e,t,n){"use strict";cc._RF.push(t,"0528fD5xmRKsaG25inw6KfJ","AutoBackground"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Base"),o=e("./AutoResizeLayer"),a=cc._decorator,r=a.ccclass,s=a.property,c=a.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.Type.Scale,t}var n;return __extends(t,e),n=t,t.prototype.start=function(){var e=this;o.default.setResizeCallback(function(){e.zoom()}),this.zoom()},t.prototype.zoom=function(){var e=cc.view.getCanvasSize(),t=e.width,i=1280/e.height*t;switch(this.type){case n.Type.Scale:this.node.scale=Math.max(i,1280)/1280;break;case n.Type.Fill:this.node.height=1280,this.node.width=i;break;case n.Type.Tited:this.getComponent(cc.Sprite).type=cc.Sprite.Type.TILED,this.node.height=1280,this.node.width=i}},t.Type=cc.Enum({Scale:1,Fill:2,Tited:3}),__decorate([s({type:n.Type,displayName:"\u586b\u5145\u7c7b\u578b",tooltip:"Scale : \u7f29\u653e \nFill : \u62c9\u4f38\u586b\u5145\u6ee1 \nTited : \u5e73\u94fa"})],t.prototype,"type",void 0),t=n=__decorate([r,c("\u901a\u7528\u7ec4\u4ef6/\u81ea\u52a8\u80cc\u666f\u56fe")],t)}(i.BaseComponent);n.default=u,cc._RF.pop()},{"../Base":"Base","./AutoResizeLayer":"AutoResizeLayer"}],AutoResizeLayer:[function(e,t,n){"use strict";cc._RF.push(t,"3cce3Og3yFGjIYwj8TazAHf","AutoResizeLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Util"),o=cc._decorator,a=o.ccclass,r=(o.property,o.menu),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resizeCallback=null,t.top=null,t.bottom=null,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){var e=this;this.top=this.node.getChildByName("Top"),this.bottom=this.node.getChildByName("Bottom"),this.resizeCallback=function(){e.resizeGame()},this.resizeGame(),n.setResizeCallback(this.resizeCallback)},t.prototype.resizeGame=function(){var e=cc.view.getCanvasSize(),t=e.width,n=e.height,o=1;.5625>t/n&&(o=t/n/.5625),i.globalData.scale=o,this.node.scale=o,this.top&&(this.top.y=640/o),this.bottom&&(this.bottom.y=-640/o),this.node.dispatchEvent(new cc.Event.EventCustom("ResizeView",!0))},t.setResizeCallback=function(e){c.isFirstRun&&(c.isFirstRun=!1,cc.view.setResizeCallback(function(){c.events.forEach(function(e){e()})})),c.events.push(e)},t.clearResizeCallback=function(e){c.events.splice(c.events.indexOf(e),1)},t=n=__decorate([a,r("\u901a\u7528\u7ec4\u4ef6/\u81ea\u52a8\u7f29\u653e\u5c42")],t)}(cc.Component);n.default=s;var c={events:[],isFirstRun:!0};cc._RF.pop()},{"../Util":"Util"}],Base:[function(e,t,n){"use strict";cc._RF.push(t,"e2b3323PPdKNaWXaEFWtEHm","Base"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Util"),o=e("./Config/GameConfigLoader"),a=e("./BaseComponents/AutoResizeLayer"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(e){function t(){var t=e.call(this)||this;return t.frameAnimes=[],t.compressFrameUuids=[],n.instance=t,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,cc.Node.prototype.__on||(cc.Node.prototype.__on=cc.Node.prototype.on,cc.Node.prototype.on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"click"===e[0]&&(this.getComponent(cc.Button)||this.addComponent(cc.Button)),this.__on.apply(this,e)}),cc.Director.prototype.__loadScene||(cc.Director.prototype.__loadScene=cc.Director.prototype.loadScene,cc.Director.prototype.loadScene=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.instance=null,this.__loadScene.apply(this,e)}),n.readyCallback&&(n.readyCallback(),n.readyCallback=null)},t.instance=null,t.readyCallback=null,t=n=__decorate([s],t)}(cc.Component);n.default=u;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.__onLoaded=!1,t}return __extends(t,e),t.prototype.emit=function(e,t){void 0===t&&(t=null),i.emit(this,e,t)},t.prototype.onLoad=function(){this.__onLoaded=!0;for(var e in this){var t=this[e];t instanceof i.FindArgs?("function"==typeof t.parent&&(t.parent=t.parent()),this[e]=this.find(t.name,t.parent)):t instanceof i.FindParentArgs&&(this[e]=this.findInParents(t.type))}},t}(o.BaseConfigComponent);n.BaseComponent=l,l.prototype.find=i.find,l.prototype.findInCanvas=function(e){return this.find(e,function(){return cc.Canvas.instance.node})},l.prototype.findInParents=i.findInParents;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoResize=!0,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.autoResize&&null==this.getComponent(a.default)&&this.addComponent(a.default)},__decorate([c({displayName:"\u81ea\u52a8\u7f29\u653e"})],t.prototype,"autoResize",void 0),t}(l);n.BaseLayer=p,cc._RF.pop()},{"./BaseComponents/AutoResizeLayer":"AutoResizeLayer","./Config/GameConfigLoader":"GameConfigLoader","./Util":"Util"}],ButtonAnime:[function(e,t,n){"use strict";cc._RF.push(t,"a42d1POWOdH/JHLovMQZoRj","ButtonAnime"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../AnimeLine"),o=cc._decorator,a=o.ccclass,r=o.property,s=o.menu,c=function(){function e(){this.min=1,this.max=1.1,this.time=.8}return __decorate([r({displayName:"\u6700\u5c0f\u7f29\u653e"})],e.prototype,"min",void 0),__decorate([r({displayName:"\u6700\u5927\u7f29\u653e"})],e.prototype,"max",void 0),__decorate([r({displayName:"\u5468\u671f"})],e.prototype,"time",void 0),e=__decorate([a("ScaleOptions")],e)}(),u=function(){function e(){this.positionBy=cc.v2(0,20),this.time=.4}return __decorate([r({displayName:"\u79fb\u52a8\u504f\u79fb\u91cf"})],e.prototype,"positionBy",void 0),__decorate([r({displayName:"\u5468\u671f"})],e.prototype,"time",void 0),e=__decorate([a("MovingOptions")],e)}(),l=function(){function e(){this.min=-5,this.max=5,this.time=.1,this.delay=3,this.repeat=2}return __decorate([r({displayName:"\u6700\u5c0f\u5ea6\u6570"})],e.prototype,"min",void 0),__decorate([r({displayName:"\u6700\u5927\u5ea6\u6570"})],e.prototype,"max",void 0),__decorate([r({displayName:"\u6447\u6643\u65f6\u95f4"})],e.prototype,"time",void 0),__decorate([r({displayName:"\u95f4\u9694\u65f6\u95f4"})],e.prototype,"delay",void 0),__decorate([r({displayName:"\u6447\u6643\u6b21\u6570"})],e.prototype,"repeat",void 0),e=__decorate([a("ShakeOptions")],e)}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._type=0,t.scaleOptions=new c,t.shakeOptions=new l,t.movingOptions=new u,t}var n;return __extends(t,e),n=t,Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),t.prototype.start=function(){var e=this,t=i.default.create(this.node);switch(this.type){case n.Types.Scale:t.anime({scale:this.scaleOptions.min}).anime(this.scaleOptions.time/2,{scale:this.scaleOptions.max}).repeat().reverse().run();break;case n.Types.Shake:t.anime(function(){return i.default.create(e.node).anime(e.shakeOptions.time/4,{angle:e.shakeOptions.min}).anime(e.shakeOptions.time/2,{angle:e.shakeOptions.max}).anime(e.shakeOptions.time/4,{angle:0}).repeat(e.shakeOptions.repeat).run()}).anime(this.shakeOptions.delay).repeat().run();break;case n.Types.Moving:t.anime(this.movingOptions.time/2,{x:this.movingOptions.positionBy.x.toString(),y:this.movingOptions.positionBy.y.toString()}).repeat().reverse().run()}},t.Types={Scale:0,Shake:1,Moving:2},__decorate([r()],t.prototype,"_type",void 0),__decorate([r({type:cc.Enum(n.Types),displayName:"\u52a8\u753b\u7c7b\u578b",tooltip:"Scale : \u547c\u5438\n Shake : \u6447\u6643\n Moving : \u79fb\u52a8\n "})],t.prototype,"type",null),__decorate([r({type:c,displayName:"\u547c\u5438\u6548\u679c",visible:function(){return this.type===n.Types.Scale}})],t.prototype,"scaleOptions",void 0),__decorate([r({type:l,displayName:"\u6447\u6643\u6548\u679c",visible:function(){return this.type===n.Types.Shake}})],t.prototype,"shakeOptions",void 0),__decorate([r({type:u,displayName:"\u79fb\u52a8\u6548\u679c",visible:function(){return this.type===n.Types.Moving}})],t.prototype,"movingOptions",void 0),t=n=__decorate([a,s("\u901a\u7528\u7ec4\u4ef6/\u6309\u94ae\u52a8\u753b")],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../AnimeLine":"AnimeLine"}],CanvasVideoPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"ee1a85uvAtMGLxP1/0FWK2g","CanvasVideoPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Util"),o=cc._decorator,a=o.ccclass,r=o.property,s=o.menu,c=o.executionOrder,u=function(){function e(){this.videoFile=null,this.name="",this.isCanplay=!1}return __decorate([r({type:cc.Asset,displayName:"\u89c6\u9891\u6587\u4ef6"})],e.prototype,"videoFile",void 0),__decorate([r({displayName:"\u89c6\u9891\u540d\u79f0"})],e.prototype,"name",void 0),e=__decorate([a("VideoSrc")],e)}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.videoViewSize=cc.size(0,0),t.videoSrcs=[],t.selectedVideo="",t._volume=1,t._loop=!1,t.sprite=null,t.canvasVideo=document.createElement("canvas"),t.videoTexture=new cc.Texture2D,t.ended=!0,t}var n;return __extends(t,e),n=t,t.useMute=function(){n.isMute=!0,n.instances.forEach(function(e,t){n.instancesVolume[t]=e.volume,e.volume=0})},t.exitMute=function(){n.isMute=!1,n.instances.forEach(function(e,t){e.volume=n.instancesVolume[t]})},t.pause=function(){n.instances.forEach(function(e,t){n.instancesPausedStatus[t]=e.paused,e.pause()})},t.resume=function(){n.instances.forEach(function(e,t){!1===n.instancesPausedStatus[t]&&e.play()})},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(e){if(n.isMute)return n.instancesVolume[n.instances.indexOf(this)]=e,this._volume=0,void(this.player&&(this.player.volume=0,this.player.muted=0===e));this._volume=e,this.player&&(this.player.volume=e,this.player.muted=0===e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this.player&&(this.player.loop=e)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.videoViewSize.height=this.videoViewSize.height||this.node.height,this.videoViewSize.width=this.videoViewSize.width||this.node.width,this.sprite=this.node.getComponent(cc.Sprite)||this.addComponent(cc.Sprite);this.videoSrcs.forEach(function(t){var n=t.videoTag||document.createElement("video");n.src=t.videoFile.url,n.crossOrigin="",n.preload="auto",n.playsInline=!0,n.setAttribute("x5-video-player-type","h5"),n.setAttribute("x5-video-player-fullscreen","true"),n.setAttribute("x5-playsinline","true"),n.setAttribute("webkit-playsinline","true"),n.setAttribute("playsInline","true"),n.oncanplay=function(){t.isCanplay=!0,e.videoSrcs.every(function(e){return e.isCanplay})&&i.emit(e,"canplay")},n.load(),t.videoTag=n})},t.prototype.update=function(){this.renderVideo()},t.prototype.onDestroy=function(){this.pause()},t.prototype.renderVideo=function(){var e=this.videoTexture._texture;e&&(e.__Player||(e.__Player=this,e.__setImage=e._setImage,e._setImage=function(e,t){t.image=this.__Player.player,t.height=this.__Player.player.videoHeight,t.width=this.__Player.player.videoWidth,this.__setImage(e,t)})),this.videoTexture.handleLoadedTexture(),this.node.height=this.videoViewSize.height,this.node.width=this.videoViewSize.width},t.prototype.selectVideo=function(e){var t=this,n=this.videoSrcs.find(function(t){return t.name==e});if(n&&n.videoFile&&n.videoFile.url){this.player&&(this.player.pause(),this.player.currentTime=0),this.selectedVideo=n.name;var o=n.videoTag;o.volume=this.volume,o.loop=this.loop,o.onended=function(){t.ended=!0,i.emit(t,"ended")},this.scheduleOnce(function(){t.canvasVideo.height=o.videoHeight,t.canvasVideo.width=o.videoWidth,t.videoTexture.initWithElement(t.canvasVideo),t.sprite.spriteFrame=new cc.SpriteFrame(t.videoTexture),t.renderVideo()}),this.player=o}},t.prototype.play=function(e){e&&e!==this.selectedVideo&&this.selectVideo(e),this.player&&(this.player.play(),this.ended=!1)},t.prototype.autoPlay=function(e){var t=this;return this.play(e),new Promise(function(e,n){var o=i.setTimeout(function(){i.clearInterval(a),n()},300),a=i.setInterval(function(){0==t.paused&&(i.clearTimeout(o),e())},10)})},t.prototype.pause=function(){this.player&&this.player.pause()},t.prototype.toggle=function(){this.player.paused?this.play():this.pause()},t.prototype.replay=function(){this.currentTime=0,this.play()},Object.defineProperty(t.prototype,"height",{get:function(){return this.videoViewSize.height},set:function(e){this.videoViewSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.videoViewSize.width},set:function(e){this.videoViewSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.player?this.player.currentTime:0},set:function(e){this.ended=!1,this.player.currentTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return!this.player||this.player.paused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.player?this.player.duration:999999},enumerable:!0,configurable:!0}),t.instances=[],t.instancesPausedStatus=[],t.instancesVolume=[],t.isMute=!1,__decorate([r({displayName:"\u97f3\u91cf"})],t.prototype,"volume",null),__decorate([r({displayName:"\u5faa\u73af\u64ad\u653e"})],t.prototype,"loop",null),__decorate([r({displayName:"\u89c6\u9891\u663e\u793a\u5927\u5c0f",tooltip:"\u9ed8\u8ba4\u4e3a\u8282\u70b9\u5927\u5c0f"})],t.prototype,"videoViewSize",void 0),__decorate([r({type:[u],displayName:"\u89c6\u9891\u6e90"})],t.prototype,"videoSrcs",void 0),__decorate([r],t.prototype,"_volume",void 0),__decorate([r],t.prototype,"_loop",void 0),t=n=__decorate([a,c(-1),s("\u901a\u7528\u7ec4\u4ef6/MP4\u89c6\u9891\u64ad\u653e\u5668")],t)}(cc.Component);n.default=l,window.CanvasVideoPlayer=l,cc._RF.pop()},{"../Util":"Util"}],CpSDK:[function(e,t,n){"use strict";cc._RF.push(t,"fd4c5Iu++hHzp0tnKxNX4Oc","CpSDK"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.GotoAppStore=function(){try{Yeah.click()}catch(e){cc.sys.openURL(""),console.log("%c\u3010CoolplayableSDK\u3011GotoAppStore","background: rgb(255, 0, 0); color: rgb(0, 0, 0)")}},e.GameEnd=function(){if(!this._isEnd){this._isEnd=!0;try{Yeah.end()}catch(e){console.log("%c\u3010CoolplayableSDK\u3011GameEnd ","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}}},e.FirstTouch=function(){if(!this._isFirstTouch){this._isFirstTouch=!0;try{Yeah.firstTouch()}catch(e){console.log("%c\u3010CoolplayableSDK\u3011FirstTouch","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}}},e.ClickContent=function(e,t){try{Yeah.clickContent(this._nowSection,e,t)}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickContent:(section"+this._nowSection+", area"+e+", remark:"+t+")","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.ClickFinishContent=function(e,t){try{Yeah.clickFinishContent(this._nowSection,e,t)}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickFinishContent:(section"+this._nowSection+", area"+e+", remark:"+t+")","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.ClickDownloadBar=function(e,t){try{Yeah.clickDownloadBar(this._nowSection,e,t)}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickDownloadBar:(section"+this._nowSection+", area"+e+", remark:"+t+")","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}this.GotoAppStore()},e.ClickFinishDownloadBar=function(e,t){try{Yeah.clickFinishDownloadBar(this._nowSection,e,t)}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickFinishDownloadBar:(section"+this._nowSection+", area"+e+", remark:"+t+"))","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}this.GotoAppStore()},e.ClickArea=function(e,t){try{Yeah.ClickArea(this._nowSection,e,t)}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickArea:(section"+this._nowSection+", area"+e+", remark:"+t+"))","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}this.GotoAppStore()},e.ClickReborn=function(e,t){try{Yeah.clickReborn(this._nowSection,e,t)}catch(n){try{Yeah.clickReborn()}catch(n){console.log("%c\u3010CoolplayableSDK\u3011ClickReborn:(section"+this._nowSection+", area"+e+", remark:"+t+")","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}}this._nowSection=0},e.EnterSection=function(e,t){if(e>this._nowSection){this._nowSection=e;try{Yeah.enterSection(e,t)}catch(e){console.log("%c\u3010CoolplayableSDK\u3011EnterSection:(section:"+this._nowSection+", remark:"+t+")","background: rgb(0, 255, 255); color: rgb(0, 0, 0)")}}},e.touchEnd=function(){try{Yeah.touchEnd()}catch(e){console.log("%c\u3010CoolplayableSDK Iron Track\u3011touchEnd","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.touchStart=function(){try{Yeah.touchStart()}catch(e){console.log("%c\u3010CoolplayableSDK Iron Track\u3011touchStart","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.startLevel=function(){try{Yeah.startLevel()}catch(e){console.log("%c\u3010CoolplayableSDK Iron Track\u3011startLevel","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.endLevel=function(){try{Yeah.endLevel()}catch(e){console.log("%c\u3010CoolplayableSDK Iron Track\u3011endLevel","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.midProgress=function(){try{Yeah.midProgress()}catch(e){console.log("%c\u3010CoolplayableSDK Iron Track\u3011midProgress","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.gameEnding=function(e){try{Yeah.gameEnding(e)}catch(t){console.log("%c\u3010CoolplayableSDK Iron Track\u3011gameEnding:(type: "+e+")","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.customEvent=function(e,t){try{Yeah.customEvent(e,t)}catch(n){console.log("%c\u3010CoolplayableSDK Iron Track\u3011customEvent:(eventType: "+e+", eventName: "+t+")","background: rgb(248, 177, 173); color: rgb(63, 172, 203)","background: rgb(255, 255, 0); color: rgb(0, 0, 0)")}},e.EndStrType={win:"win",lose:"lose",timer:"timer"},e._isEnd=!1,e._isFirstTouch=!1,e._nowSection=0,e}();n.default=i,cc._RF.pop()},{}],Download:[function(e,t,n){"use strict";cc._RF.push(t,"1f33ft8/BdJX7hZMJvnRVYL","Download"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Base"),o=e("../CpSDK"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t.isEnd=!1,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.on("click",function(){e.isEnd?o.default.ClickFinishDownloadBar(e.index):o.default.ClickDownloadBar(e.index)})},__decorate([s()],t.prototype,"index",void 0),__decorate([s()],t.prototype,"isEnd",void 0),t=__decorate([r],t)}(i.BaseComponent);n.default=c,cc._RF.pop()},{"../Base":"Base","../CpSDK":"CpSDK"}],FrameAnime:[function(e,t,n){"use strict";cc._RF.push(t,"8bab4Shk09OR6VuBwhudv47","FrameAnime"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../AnimeLine"),o=e("../Util"),a=cc._decorator,r=a.ccclass,s=a.property,c=a.menu,u=function(){function e(){this.name="",this.animeTime=1,this.loop=!0,this.spriteFrames=[],this.offset=cc.v2()}var t;return t=e,e.parseNodeName=function(e){var t=e.name.split(":").map(function(e){return e.trim()}),n=t.shift(),i=t.find(function(e){return/^\d*\.*\d+$/.test(e)}),o=i?parseFloat(i):.1*e.children.length,a=t.includes("loop"),r=t.includes("sorted"),s=t.includes("reverse"),c=t.find(function(e){return/^-*[\d]+[\s]*,[\s]*-*[\d]+$/.test(e)})||"0,0";return{name:n,animeTime:o,loop:a,sorted:r,reverse:s,offset:cc.v2.apply(cc,c.split(",").map(function(e){return parseInt(e)}))}},e.create=function(e){var n=new t,i=t.parseNodeName(e);return i.sorted?n.spriteFrames=Array.from(e.children).map(function(e){return e.getComponent(cc.Sprite).spriteFrame}):i.reverse?n.spriteFrames=Array.from(e.children).sort(function(e,t){return parseInt(t.name.match(/[\d]+/)[0])-parseInt(e.name.match(/[\d]+/)[0])}).map(function(e){return e.getComponent(cc.Sprite).spriteFrame}):n.spriteFrames=Array.from(e.children).sort(function(e,t){return parseInt(e.name.match(/[\d]+/)[0])-parseInt(t.name.match(/[\d]+/)[0])}).map(function(e){return e.getComponent(cc.Sprite).spriteFrame}),Object.assign(n,i),n},e=t=__decorate([r("FrameAnimeLine")],e)}(),l=function(e){function t(){var t=e.call(this)||this;return t.prefab=null,t.frameAnimeName="",t.frameAnimeLines=[],t.animeNow=null,t._useOffset=!1,t._initPosition=null,t._frameAnimeLine=null,t._frameAnimeLineSprite=null,t._frameAimeTime=0,t._inited=!1,t.frameIndex=-1,n.frameAnimes.push(t),t}var n;return __extends(t,e),n=t,t.initFromGameConfig=function(){var e=window.gameConfig||{},t=[];Object.values(e).forEach(function(e){e.frameAnimes&&t.push.apply(t,Object.values(e.frameAnimes))}),n.frameAnimes=n.frameAnimes.filter(function(e){return null!=e.node}),n.frameAnimes.forEach(function(e){e.onLoad(),e.frameAnimeLines.forEach(function(e){var t;(t=n.compressFrameUuids).push.apply(t,e.spriteFrames.map(function(e){return e.getTexture()._uuid}))})}),t.forEach(function(e){n.frameAnimes[e.index].initFromGameConfigFrameAnime(e)})},Object.defineProperty(t.prototype,"frameAimeTime",{get:function(){return this._frameAimeTime},set:function(e){var t=this.animeNow;t.loop?this._frameAimeTime=e%t.animeTime:this._frameAimeTime=e;var n=Math.floor(this._frameAimeTime/t.animeTime*t.spriteFrames.length);this.frameIndex!=n&&(this._frameAnimeLineSprite.spriteFrame=t.spriteFrames[Math.min(n,t.spriteFrames.length-1)],o.emit(this,"FrameAnimeIndexChange")),this.frameIndex=n},enumerable:!0,configurable:!0}),t.prototype.stop=function(){this._frameAnimeLine&&this._frameAnimeLine.stop()},t.prototype.pause=function(){this._frameAnimeLine&&this._frameAnimeLine.pause()},t.prototype.paused=function(){return!this._frameAnimeLine||"runing"!==this._frameAnimeLine.status},t.prototype.play=function(){this._frameAnimeLine&&this._frameAnimeLine.play()},t.prototype.onLoad=function(){if(!this._inited){var e=this.prefab&&this.prefab.data||this.node;0!==this.frameAnimeLines.length?(this._frameAnimeLineSprite=this.getComponent(cc.Sprite)||this.node.addComponent(cc.Sprite),this._frameAnimeLineSprite.trim=!1,this._frameAnimeLineSprite.sizeMode=cc.Sprite.SizeMode.RAW,this._frameAnimeLineSprite.type=cc.Sprite.Type.SIMPLE,this._inited=!0,this._initPosition=this.node.getPosition(),this._useOffset=this.frameAnimeLines.some(function(e){return!e.offset.equals(cc.v2(0,0))}),this.frameAnimeName?this.setAnime(this.frameAnimeName):this.setAnime(this.frameAnimeLines[0].name)):e.children.length&&e.children[0].children.length&&e.children[0].children.every(function(e){return null!==e.getComponent(cc.Sprite)})&&(this.frameAnimeLines=e.children.map(u.create),this.node.destroyAllChildren(),this.onLoad())}},t.prototype.initFromGameConfigFrameAnime=function(e){var t=function(t){var i=e.animes[t],o=i.frames.map(function(e){var t=new cc.Texture2D;return t.initWithElement(e._image),new cc.SpriteFrame(t)}),a=n.frameAnimeLines.findIndex(function(e){return e.name==t}),r=n.frameAnimeLines[a],s=new u;s.name=r.name,s.loop=r.loop,s.animeTime=i.time||r.animeTime,s.spriteFrames=o,n.frameAnimeLines[a]=s},n=this;for(var i in e.animes)t(i);var o=this.animeNow&&this.animeNow.name;o&&(this.animeNow=null,this.setAnime(o),this._frameAnimeLineSprite.spriteFrame=this.animeNow.spriteFrames[0])},t.prototype.setAnime=function(e){var t=this;if(0===this.frameAnimeLines.length)return null;if(this._inited||this.onLoad(),!this.animeNow||this.animeNow.name!==e||1!=this.animeNow.loop){var n=this.frameAnimeLines.find(function(t){return t.name===e});return this.animeNow=n,this.stop(),this.frameIndex=-1,this._frameAnimeLine=new i.default(this.node,{frameIndex:0}).anime(n.animeTime,{data:{frameIndex:n.spriteFrames.length},callback:function(e){t.isValid&&(t.frameAimeTime=e.progress*t.animeNow.animeTime)}}).run(),this._useOffset&&this.node.setPosition(this._initPosition.add(this.animeNow.offset)),n.loop&&this._frameAnimeLine.repeat(),this._frameAnimeLine.end(function(){o.emit(t,"FrameAnimeEnd")})}},t.frameAnimes=[],t.compressFrameUuids=[],__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),t=n=__decorate([r,c("\u901a\u7528\u7ec4\u4ef6/\u5e27\u52a8\u753b")],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../AnimeLine":"AnimeLine","../Util":"Util"}],GameConfigLoader:[function(e,t,n){"use strict";cc._RF.push(t,"fb140uETfJNyrphOBCr3e1w","GameConfigLoader"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseComponents/AudioManager"),o=e("./GameConfigTypes"),a=cc._decorator,r=a.ccclass,s=a.executionOrder,c={global:{props:{}}},u=function(e){function t(){var t=e.call(this)||this;return t.config=null,n.instance=t,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){this.config=window.gameConfig||o.createConfigs(c),this.config&&(this.initProps(),this.initAudios())},t.prototype.initProps=function(){var e=this;cc.Canvas.instance.getComponents(l).concat(cc.Canvas.instance.getComponentsInChildren(l)).forEach(function(t){var i=t.__from||{};Object.keys(i).forEach(function(o){var a=n.getValueByPath(e.config,i[o]),r=a.value;if(a.finded)if("object"==typeof r&&r.type)switch(r.type){case"number":case"boolean":case"int":case"string":t[o]=r.value;break;case"color":t[o]=cc.color(r.value);case"position":t[o]=cc.v2.apply(cc,r.value.split(",").map(function(e){return parseFloat(e)}))}else t[o]=r})})},t.prototype.initAudios=function(){var e={};for(var t in this.config)this.config[t].audios&&Object.assign(e,this.config[t].audios);if(i.default.instance.bgm){var n=i.default.instance.bgm.url;if(n&&n.match(/\/[^\/]+$/)){var o=n.match(/\/[^\/]+$/)[0].slice(1).match(/^[^\.]+/)[0].replace(/-/g,"");e[o]&&(i.default.instance.bgmRelativeVolume=e[o].volume)}}i.default.instance.audios.forEach(function(t){if(t.audioClip&&t.audioClip.url&&t.audioClip.url.match(/\/[^\/]+$/)){var n=t.audioClip.url.match(/\/[^\/]+$/)[0].slice(1).match(/^[^\.]+/)[0].replace(/-/g,"");e[n]&&(t.relativeVolume=e[n].volume)}})},t.getValueByPath=function(e,t){for(var n=t.split(".").map(function(e){return e.trim()}),i={finded:!1,value:null},o=0,a=e;o<n.length;o++){var r=n[o];if(!(a&&r in a))break;a=a[r],o===n.length-1&&(i.finded=!0,i.value=a)}return i},t.setValueToPath=function(e,t,n){for(var i=t.split(".").map(function(e){return e.trim()}),o=e,a=0;a<i.length-1;a++){var r=i[a];o[r]||(o[r]={}),o=o[r]}o[i[i.length-1]]=n},t.instance=null,t=n=__decorate([r,s(-1/0)],t)}(cc.Component);n.default=u,window.__GameConfigLoader=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(cc.Component);n.BaseConfigComponent=l,n.from=function(e,t){return void 0===t&&(t=""),function(n,i){u.setValueToPath(c,e,t),o.createConfigs(c),n.__from=n.__from||{},n.__from[i]=e}},n.isXJDownload=function(){return function(e,t){e.__from&&e.__from[t]?(c.global.__XJ_transformTextPath=e.__from[t],o.createConfigs(c)):console.error("@isXJDownload() \u5fc5\u987b\u5728 @from() \u524d\u9762")}},cc._RF.pop()},{"../BaseComponents/AudioManager":"AudioManager","./GameConfigTypes":"GameConfigTypes"}],GameConfigTypes:[function(e,t,n){"use strict";cc._RF.push(t,"7730aIjfdlO7JTeKLJnP49U","GameConfigTypes"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){this.label="",this.notes="",this.value=null}}(),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="boolean",t.value=!1,t}return __extends(t,e),t}(i);n.BaseBooleanValue=o;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="number",t.value=0,t.step=1,t}return __extends(t,e),t}(i);n.BaseNumberValue=a;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="int",t.value=0,t.step=1,t}return __extends(t,e),t}(i);n.BaseIntValue=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="string",t.value="",t}return __extends(t,e),t}(i);n.BaseStringValue=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="position",t.value="",t}return __extends(t,e),t}(i);n.BasePositionValue=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="color",t.value="",t}return __extends(t,e),t}(i);n.BaseColorValue=u;(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}__extends(t,e)})(function(){return function(){}}());function l(e){return function(t){if(t instanceof e)return t;var n=new e;if("object"==typeof t)for(var i in t)n[i]=t[i];else n.value=t;return n}}var p=l(o),d=l(a),h=l(r),f=l(s),m=l(c),y=l(u),g={boolean:p,number:d,int:h,string:f,position:m,color:y};function v(e){var t=JSON.parse(JSON.stringify(e));return Object.keys(t).forEach(function(e){var n=t[e].props;if(n)for(var i in n)n[i]=_(n[i])}),t}function _(e){switch(typeof e){case"boolean":return p(e);case"number":return d(e);case"string":return f(e);case"object":return g[e.type](e)}}n.createConfigs=function(e){var t=v(e);return"object"==typeof window&&(window.__gameConfig=t),t},cc._RF.pop()},{}],GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"804daQyiHhHT5rNbi/lB8wv","GameScene"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/AnimeLine"),o=e("./Base/Base"),a=e("./Base/BaseComponents/AudioManager"),r=e("./Base/Util"),s=e("./XXLCheck"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(){function e(){this.type=""}var t;return t=e,e.filterNotEmptyBox=function(e){return e&&"0"!=e.type&&"-1"!=e.type},e.functions={ClearLine:function(e,n){return e[n.y].filter(t.filterNotEmptyBox)},ClearColumn:function(e,n){return e.map(function(e){return e[n.x]}).filter(t.filterNotEmptyBox)},Boom:function(e,n){return t.functions.ClearLine(e,n).concat(t.functions.ClearColumn(e,n)).filter(t.filterNotEmptyBox)}},e=t=__decorate([u("Props")],e)}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.line=3,t.column=3,t.gridSize=78,t.propsOdds=.03,t.touchTarget=null,t.viewDirection="",t.lastViewDirection="",t.firstDirection="",t.touchStartPosition=null,t.types=[{type:"-1",prefab:null},{type:"0",prefab:null}],t.hasBomb=!1,t.initTypes=[],t.propTypes=[],t.createHistory=["1","1","2","4","2","3","1","4","2","2","4","3","3","4","2","3","2","4","4","2","3","3","2","1"],t.selectHistory=[],t.idCount=0,t.comboCuont=0,t.list=[],t.selectA=null,t.selectB=null,t.checking=!1,t.paused=!1,t.helpTimeout=null,t.helpAnimeLine=null,t.target=null,t.selectEffect=t.findInCanvas("SelectEffect"),t.handNode=t.find("Hand"),t.ScorePlusTemp=t.findInCanvas("ScorePlus"),t.XiGuaPlusModel=!1,t.XiGuaPlusOdds=.1,t.isFirstHelp=!0,t._clearCallback=null,t._clearEndCallback=null,t._toggleCallback=null,t.random=null,t}return __extends(t,e),t.prototype.start=function(){var e;window.g=this,window.randomValue=Math.random(),console.log("random : "+window.randomValue),this.random=r.seedRandom(window.randomValue);var t=this.findInCanvas("AllBoxs").children.map(function(e){return{prefab:e,type:e.name}});(e=this.types).push.apply(e,t),this.initTypes=t.filter(function(e){return/^\d+$/.test(e.type)}),this.propTypes=t.filter(function(e){return!/^\d+$/.test(e.type)}),this.target=this.node.getChildByName("XXL"),this.handNode=this.node.getChildByName("Hand"),this.initEvent(),this.initCache(),this.initView()},t.prototype.restart=function(){this.list.forEach(function(e){e.node.destroy()}),this.list=[],this.initView()},t.prototype.createBox=function(e){var t=this,n=this.idCount,i=n%this.line,o=Math.floor(n/this.line),a=this.initTypes[Math.floor(this.random()*this.initTypes.length)];this.createHistory[this.idCount]&&(a=this.types.find(function(e){return e.type===t.createHistory[t.idCount]})),"string"==typeof e&&(a=this.types.find(function(t){return t.type===e}));var r=new s.Box(i,o,this.gridSize,a);return r.id=this.idCount,r.node.on("touchstart",this.touchStart,this),r.node.setPosition(this.getBoxPosition(r)),"string"!=typeof this.createHistory[this.idCount]&&this.createHistory.push(a.type),this.idCount++,r},t.prototype.showHelp=function(e){e&&(this.handNode.x=e.a.node.x+this.gridSize/2,this.handNode.y=e.a.node.y-this.gridSize/2,this.handNode.active=!0,this.handNode.zIndex=999,e.a!==e.b?this.helpAnimeLine=new i.default(this.handNode).anime(.4,{x:e.b.node.x+this.gridSize/2,y:e.b.node.y-this.gridSize/2}).repeat().reverse().run():this.helpAnimeLine=new i.default(this.handNode).anime(.4,{y:"-10"}).repeat().reverse().run())},t.prototype.clearHelp=function(){this.handNode.active=!1,r.clearTimeout(this.helpTimeout),this.helpAnimeLine&&(this.helpAnimeLine.stop(),this.helpAnimeLine=null)},t.prototype.startHelpTimeout=function(){var e=this;this.clearHelp(),this.isFirstHelp&&(this.isFirstHelp=!1,this.helpTimeout=r.setTimeout(function(){if(!e.paused){var t=e.list.find(function(e){return"Boom"==e.props});t?e.showHelp({a:t,b:t}):e.showHelp(s.getHelp(e.list,e.line))}},500))},t.prototype.getBoxPosition=function(e){return cc.v2((e.x-this.line/2)*this.gridSize+this.gridSize/2,(e.y-this.column/2)*this.gridSize+this.gridSize/2)},t.prototype.getBox=function(e,t){return this.list[t*this.line+e]||null},t.prototype.select=function(e){this.checking||"0"!=e.type&&"-1"!=e.type&&(this.clearHelp(),this.selectHistory.push(this.list.indexOf(e)),null!==this.selectA?this.selectA!==e&&(this.selectA.x===e.x&&1===Math.abs(this.selectA.y-e.y)?this.setSelectB(e):this.selectA.y===e.y&&1===Math.abs(this.selectA.x-e.x)?this.setSelectB(e):(this.selectA.selected=!1,this.setSelectA(e))):this.setSelectA(e))},t.prototype.clearSelect=function(){this.selectA.selected=!1,this.selectB.selected=!1,this.selectA=null,this.selectB=null,this.selectEffect.active=!1},t.prototype.setSelectA=function(e){e.selected=!0,this.selectA=e,this.selectEffect.active=!0,this.selectEffect.setPosition(e.node.getPosition())},t.prototype.setSelectB=function(e){var t=this;this._toggleCallback&&this._toggleCallback(),this.comboCuont=0,a.default.play("toggle"),e.selected=!0,this.selectB=e;var n=this.selectA,o=n.x,s=n.y,c=this.selectB,u=c.x,l=c.y,p=s*this.line+o,d=l*this.line+u;this.checking=!0,this.selectA.x=u,this.selectA.y=l,this.selectB.x=o,this.selectB.y=s;var h=this.getBoxPosition(this.selectA),f=h.x,m=h.y,y=this.getBoxPosition(this.selectB),g=y.x,v=y.y;new i.default(this.selectEffect).anime(.2,{x:f,y:m}).run(),new i.default(this.selectA.node).anime(.2,{x:f,y:m}).run(),new i.default(this.selectB.node).anime(.2,{x:g,y:v}).run().end(function(){t.list[p]=t.selectB,t.list[d]=t.selectA,!1===t.check([t.selectA,t.selectB])?(t.startHelpTimeout(),r.setTimeout(function(){a.default.play("toggleFail")},200),t.selectA.x=o,t.selectA.y=s,t.selectB.x=u,t.selectB.y=l,t.list[p]=t.selectA,t.list[d]=t.selectB,new i.default(t.selectEffect).anime(.2,{x:g,y:v}).run(),new i.default(t.selectA.node).anime(.2,{x:g,y:v}).run(),new i.default(t.selectB.node).anime(.2,{x:f,y:m}).run().end(function(){t.checking=!1,t.clearSelect(),t._clearEndCallback()})):t.clearSelect()})},t.prototype.updateList=function(e){var t=this,n=s.getUpdateUnionList(e),o=s.getUpdateColumn(n),c=n.map(function(e){return{x:e.x,y:e.y}}),u=0,l=!1;o.forEach(function(e){var n=e[0].x,o=e.filter(function(e){return"0"===e.type}).length,s=new Array(o).fill(null).map(function(e,o){var a=t.hasBomb?t.createBox("bomb"):t.createBox();return t.hasBomb=!1,a.x=n,a.y=t.column+o,a.node.setPosition(t.getBoxPosition(a)),t.target.addChild(a.node),new i.default(a.node).anime({opacity:0}).anime(.2,{opacity:255}).run(),a});e.push.apply(e,s);var c=e[0].y,p=0;e.filter(function(e){return"0"!=e.type&&"-1"!=e.type}).forEach(function(n,o){n.y=c+p,"-1"===e[p].type&&(n.y++,p++),p++;var s=t.getBoxPosition(n).y,d=(n.node.y-s)/t.gridSize*.1;u=Math.max(u,d+.05*o),new i.default(n.node).anime(.2+.05*o).anime(d,{y:s,easingType:cc.easeIn(2)}).callback(function(){!1===l&&0===o&&(l=!0,r.setTimeout(function(){l=!1},200),a.default.play("reset"))}).anime(.1,{scaleY:.9,y:"-3"}).anime(.1,{scaleY:1.07,y:"+3"}).anime(.1,{scaleY:1,y:"0"}).run(),t.list[n.y*t.line+n.x]=n})});var p=c.map(function(e){return t.getBox(e.x,e.y)}),d=s.xxlCheck(this.list,this.line,this.column,p);new i.default(null).anime(u+.2).run().end(function(){d?t.clear(d):(t.startHelpTimeout(),t._clearEndCallback(),t.checking=!1)})},t.prototype.getPropsClearList=function(e){var t=e.filter(function(e){return""!=e.props});if(t.length>0){var n=[],i=r.splitByLength(this.list,this.line);t.forEach(function(e){"ClearLine"===e.props?n.push.apply(n,p.functions.ClearLine(i,e)):"ClearColumn"===e.props?n.push.apply(n,p.functions.ClearColumn(i,e)):"Boom"===e.props&&n.push.apply(n,p.functions.Boom(i,e))});var o=r.getUnion(e,n);if(o.length!==e.length)return this.getPropsClearList(o)}return e},t.prototype.setClearEndCallback=function(e){this._clearEndCallback=e},t.prototype.setClearCallback=function(e){this._clearCallback=e},t.prototype.setToggleCallback=function(e){this._toggleCallback=e},t.prototype.clear=function(e){var t=this;this.checking=!0;var n=this.getPropsClearList(e);this.comboCuont++,n.length>=7&&this.comboCuont++,n.length===e.length?a.default.play("clear"):n.some(function(e){return"boom"===e.props})?a.default.play("boom"):a.default.play("clearLine"),this._clearCallback(n),n.forEach(function(e){e.type="0","Boom"==e.props&&(e.node.getChildByName("BoomFx").children.forEach(function(e){e.active=!0}),e.node.getChildByName("targetSprite").active=!1,a.default.play("clear"));var n=cc.instantiate(t.ScorePlusTemp);n.x=e.node.x,n.y=e.node.y,t.node.addChild(n),new i.default(n).anime(.3,{y:"+30"}).anime(.3,{y:"+30",opacity:0}).destroy().run()}),n.forEach(function(e,t){new i.default(e.node).anime(.2,{x:n[1].node.x,y:n[1].node.y}).destroy().run()}),r.setTimeout(function(){t.updateList(n)},400)},t.prototype.check=function(e){var t=s.xxlCheck(this.list,this.line,this.column,e);return!!t&&(this.clear(t),!0)},t.prototype.reload=function(){localStorage.createCache="",localStorage.selectCache="",location.reload()},t.prototype.debugReload=function(){localStorage.debugTipsCount||(localStorage.debugTipsCount="0"),parseInt(localStorage.debugTipsCount)<3&&r.setTimeout(function(){localStorage.debugTipsCount=parseInt(localStorage.debugTipsCount)+1},3e3),localStorage.createCache=JSON.stringify(this.createHistory),localStorage.selectCache=JSON.stringify(this.selectHistory),location.reload()},t.prototype.initEvent=function(){cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},t.prototype.initCache=function(){var e=this;try{this.createHistory=JSON.parse(localStorage.createCache);var t=JSON.parse(localStorage.selectCache);if(t.length>=2){var n=null,i=function(){if(!e.checking){if(0===t.length)return void r.clearTimeout(n);var o=t.shift();e.select(e.list[o])}n=r.setTimeout(i,500)};n=r.setTimeout(i,1e3)}}catch(e){console.log("initCache error")}},t.prototype.initView=function(){var e=this;this.comboCuont=0,this.idCount=0,this.list=new Array(this.line*this.column).fill(null).map(function(){if(e.hasBomb){e.hasBomb=!1;var t=e.createBox("bomb");return e.target.addChild(t.node),t}var n=e.createBox();return e.target.addChild(n.node),n}),this.list.forEach(function(t,n){new i.default(t.node).anime({y:t.node.y+e.gridSize*e.line}).anime(.05*Math.floor(n/e.line)).anime(.7,{y:t.node.y,easingType:cc.easeIn(2)}).anime(.1,{scaleY:.9,y:"-3"}).anime(.1,{scaleY:1.07,y:"+3"}).anime(.1,{scaleY:1,y:"0"}).run()}),new i.default(null).anime(.7).run().end(function(){a.default.play("reset")})},t.prototype.onClick=function(e){if("bomb"==e.name){var t=this.list.find(function(t){return t.node===e});this.clear([t])}},t.prototype.touchStart=function(e){if(!this.checking&&!this.paused){var t=this.list.find(function(t){return t.node===e.target});if("0"!=t.type&&"-1"!=t.type){var n=this.list.find(function(t){return t.node===e.target});this.select(n),this.touchTarget=e.target,this.touchStartPosition=cc.v2(e.getLocationX(),e.getLocationY())}}},t.prototype.touchMove=function(e){var t=this;if(null!==this.touchTarget&&!this.checking){var n=cc.v2(e.getLocationX()-this.touchStartPosition.x,e.getLocationY()-this.touchStartPosition.y);if(""===this.firstDirection){if(!(Math.abs(n.x)>5||Math.abs(n.y)>5))return;this.firstDirection=f(n.x,n.y),this.lastViewDirection=this.firstDirection,this.viewDirection=this.firstDirection}this.viewDirection=h(this.firstDirection,this.lastViewDirection,f(n.x,n.y)),this.lastViewDirection=this.viewDirection;var i=this.list.find(function(e){return e.node===t.touchTarget}),o=0,a=0;switch(this.viewDirection){case"up":a++;break;case"down":a--;break;case"left":o--;break;case"right":o++}var r=this.getBox(i.x+o,i.y+a);null!==r&&"0"!=r.type&&"-1"!=r.type&&(this.touchEnd(),this.select(i),this.select(r))}},t.prototype.touchEnd=function(){null!==this.touchTarget&&(""==this.firstDirection&&this.onClick(this.touchTarget),this.touchTarget=null,this.firstDirection="",this.viewDirection="",this.lastViewDirection="")},__decorate([l()],t.prototype,"line",void 0),__decorate([l()],t.prototype,"column",void 0),__decorate([l()],t.prototype,"gridSize",void 0),__decorate([l({displayName:"\u9053\u5177\u51e0\u7387"})],t.prototype,"propsOdds",void 0),t=__decorate([u],t)}(o.BaseComponent);function h(e,t,n){var i="";return"up"!==e&&"down"!==e||(i="left"===n||"right"===n?t:"up"===n?"up":"down"),"left"!==e&&"right"!==e||(i="up"===n||"down"===n?t:"left"===n?"left":"right"),i}function f(e,t){var n=r.posttionToAngle(cc.v2(0,0),cc.v2(e,t));return n>=315||n<=45?"up":n>=225?"left":n>=135?"down":n>=45?"right":void 0}n.default=d,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base","./Base/BaseComponents/AudioManager":"AudioManager","./Base/Util":"Util","./XXLCheck":"XXLCheck"}],Layer_1:[function(e,t,n){"use strict";cc._RF.push(t,"543663WObBA6oBOKzExDysI","Layer_1"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Progress"),o=e("./Base/Base"),a=e("./GameScene"),r=e("./Base/AnimeLine"),s=e("./Layer_win"),c=e("./Base/Util"),u=e("./Base/CpSDK"),l=e("./Layer_gift"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameScene=t.find(a.default),t.progress=t.find(i.default),t.layer_win=t.findInCanvas(s.default),t.layer_gift=t.findInCanvas(l.default),t.StartButton=t.findInCanvas("StartButton"),t.StartButtonHand=t.find("StartButtonHand"),t.isWin=!1,t.started=!1,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.progress.setSize(500),this.gameScene.setClearCallback(function(t){e.clearCount(t)}),this.gameScene.setClearEndCallback(function(){e.clearEnd()}),this.gameScene.paused=!0,this.gameStart()},t.prototype.gameStart=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.started?[2]:(u.default.EnterSection(1,"\u6e38\u620f\u5f00\u59cb"),this.started=!0,this.StartButtonHand.active=!1,[4,new r.default(this.StartButton).anime(.3,{opacity:0,y:"-50"}).hide().run().end()]);case 1:return t.sent(),c.setTimeout(function(){e.gameScene.paused=!1,e.gameScene.startHelpTimeout()},1500),[2]}})})},t.prototype.gameWin=function(){this.isWin||(this.gameScene.paused=!0,this.isWin=!0,this.layer_win.show())},t.prototype.clearEnd=function(){this.progress.progressValue>=this.progress.size&&(u.default.EnterSection(2,"\u6e38\u620f\u7ed3\u675f"),u.default.GameEnd(),this.gameWin())},t.prototype.clearCount=function(e){var t=this;u.default.FirstTouch();var n=this.layer_gift.find("gift_"+e[0].type);this.scheduleOnce(function(){t.isWin||t.layer_gift.show(n)},.2),this.scheduleOnce(function(){t.isWin||t.layer_gift.hide()},1.6),this.progress.add(100)},t=__decorate([d],t)}(o.BaseLayer));n.default=h,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base","./Base/CpSDK":"CpSDK","./Base/Util":"Util","./GameScene":"GameScene","./Layer_gift":"Layer_gift","./Layer_win":"Layer_win","./Progress":"Progress"}],Layer_gift:[function(e,t,n){"use strict";cc._RF.push(t,"a5c1cOSKUdGl4UiXtu3ZDaM","Layer_gift"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/BaseComponents/Popup"),o=e("./Base/Base"),a=e("./Base/AnimeLine"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.giftsNode=t.find("gifts"),t.lights=t.find("lights"),t.fx_RotateLight=t.find("fx_RotateLight"),t}return __extends(t,e),t.prototype.show=function(e){var t=this;i.default.show(this.node),this.giftsNode.children.forEach(function(e){return e.active=!1}),e.active=!0,new a.default(this.lights).anime({scale:0}).anime(.4,{scale:1,easingType:cc.easeBackOut()}).run().end(function(){new a.default(t.lights).anime(.4,{scale:1.05}).repeat().reverse().run()}),new a.default(this.fx_RotateLight).anime({scale:0}).anime(.8,{scale:1,easingType:cc.easeBackOut()}).run().end(function(){new a.default(t.fx_RotateLight).anime(.4,{scale:1.1}).repeat().reverse().run()})},t.prototype.hide=function(){a.default.stop(this.lights),a.default.stop(this.fx_RotateLight),new a.default(this.lights).anime({scale:0}).anime(.2,{scale:0}).run(),new a.default(this.fx_RotateLight).anime({scale:0}).anime(.2,{scale:0}).run(),i.default.close(this.node)},t=__decorate([s],t)}(o.BaseLayer));n.default=c,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base","./Base/BaseComponents/Popup":"Popup"}],Layer_win:[function(e,t,n){"use strict";cc._RF.push(t,"d3504I+cWND047YjFWL1Lyz","Layer_win"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/Base"),o=e("./Base/BaseComponents/AudioManager"),a=e("./Base/BaseComponents/Popup"),r=e("./Base/CpSDK"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.show=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return r.default.EnterSection(3,"\u6e38\u620f\u7ed3\u675f"),o.default.play("win"),[4,a.default.show(this.node)];case 1:return e.sent(),this.find("juzisahua_you").active=!0,this.find("juzisahua_zuo").active=!0,[2]}})})},t=__decorate([c],t)}(i.BaseLayer));n.default=u,cc._RF.pop()},{"./Base/Base":"Base","./Base/BaseComponents/AudioManager":"AudioManager","./Base/BaseComponents/Popup":"Popup","./Base/CpSDK":"CpSDK"}],Popup:[function(e,t,n){"use strict";cc._RF.push(t,"79f25+N4ttGU5SNGqisfHNn","Popup"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../AnimeLine"),o=e("../Util"),a=function(){function e(){}return e.show=function(t,n,a){void 0===n&&(n=""),"function"==typeof n&&(a=n,n="");var r=t instanceof cc.Node?t:o.find("POPUP-"+t);if(null!==r){r.active=!0,e.popupTargets.unshift(r);var s=new i.default(r);switch(n){case e.AnimeTypes.FadeIn:case"fadeIn":s.anime({opacity:0}).anime(.3,[{opacity:255}]);break;default:s.anime({opacity:0,y:"-200",scale:.9}).anime(.3,[{opacity:255,scale:r.scale},{y:"+200",easingType:cc.easeBackOut()}])}return s.run().end(a)}},e.close=function(t,n,a){if(void 0===n&&(n=""),"function"==typeof n&&(a=n,n=""),e.popupTargets.length>0){var r=t?t instanceof cc.Node?t:e.popupTargets.find(function(e){return e.name==="POPUP-"+t}):e.popupTargets[0];if(r){o.removeItem(e.popupTargets,r);var s=i.default.create(r);switch(n){case e.AnimeTypes.FadeOut:case"fadeOut":s.anime(.3,{opacity:0});break;default:s.anime(.3,[{opacity:0,scale:.95},{y:"-200",easingType:cc.easeBackIn()}]).anime({y:"+200"})}return s.hide().anime({scale:r.scale}).run().end(a)}}return null},e.popupTargets=[],e.AnimeTypes={FadeIn:0,FadeOut:1},e}();n.default=a,cc._RF.pop()},{"../AnimeLine":"AnimeLine","../Util":"Util"}],Progress:[function(e,t,n){"use strict";cc._RF.push(t,"73202PUwxBHh4kC2YIUBnVe","Progress"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/AnimeLine"),o=e("./Base/Base"),a=cc._decorator.ccclass,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.size=1,t.progressValue=0,t.targetNode=t.find("target"),t}return __extends(t,e),t.prototype.start=function(){this.setProgress(0)},t.prototype.setSize=function(e){this.size=e},t.prototype.add=function(e){void 0===e&&(e=1),this.setProgress(this.progressValue+e)},t.prototype.setProgress=function(e){var t=this;this.progressValue>=this.size||(new i.default(this.node,{progressValue:this.progressValue}).anime(.3,{easingType:cc.easeOut(2),data:{progressValue:Math.min(e,this.size)},callback:function(e){t.targetNode.x=-606*(1-e.data.progressValue/t.size),t.targetNode.children[0].x=-t.targetNode.x}}).run(),this.progressValue=e)},t=__decorate([a],t)}(o.BaseComponent);n.default=r,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base"}],Replay:[function(e,t,n){"use strict";cc._RF.push(t,"f12b3OHFaVMQ57BCOJRIDnx","Replay"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Base"),o=e("../CpSDK"),a=e("./AudioManager"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.node.on("click",function(){o.default.ClickReborn(1),a.default.stopAll(),cc.director.loadScene("Main")})},t=__decorate([s],t)}(i.BaseComponent));n.default=c,cc._RF.pop()},{"../Base":"Base","../CpSDK":"CpSDK","./AudioManager":"AudioManager"}],StartView:[function(e,t,n){"use strict";cc._RF.push(t,"47e19qL4UJCaaAbSbNsAKR0","StartView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/AnimeLine"),o=e("./Base/Base"),a=cc._decorator.ccclass,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.button=t.find("Button"),t}return __extends(t,e),t.prototype.start=function(){var e=this;this.button.on("click",function(){var t=e.findInCanvas("Main");t.active=!0,t.opacity=0,new i.default(t).anime(.3,{opacity:255}).run(),new i.default(e.node).anime(.3,{scale:1.5,opacity:0}).hide().run()})},t=__decorate([a],t)}(o.BaseComponent);n.default=r,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base"}],Timer:[function(e,t,n){"use strict";cc._RF.push(t,"5c81ajzt1hBpoUEPq/JrCPa","Timer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/Base"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=0,t.target=t.find(cc.Label),t.isPaused=!1,t._timeoverCallback=null,t._formater=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.target||console.log("Timer \u7ec4\u4ef6\u4e0b\u6ca1\u6709label\u8282\u70b9 !")},t.prototype.pause=function(){this.isPaused=!0},t.prototype.resume=function(){this.isPaused=!1},t.prototype.setFormat=function(e){this._formater=e},t.prototype.startTimeout=function(e,t){this.time=e,this._timeoverCallback=t,this.updateLabel()},t.prototype.updateLabel=function(){this.target.string=this._formater?this._formater(this.time):Math.floor(this.time).toString()},t.prototype.update=function(e){if(this.time>0){if(this.isPaused)return;this.time-=e,this.time<0&&(this.time=0,"function"==typeof this._timeoverCallback&&this._timeoverCallback()),this.updateLabel()}},t=__decorate([a],t)}(i.BaseComponent));n.default=r,cc._RF.pop()},{"./Base/Base":"Base"}],Util:[function(e,t,n){"use strict";cc._RF.push(t,"92287MA//hOVZit206ZNEGU","Util"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base"),o=function(){return function(e,t){this.name=e,this.parent=t}}();n.FindArgs=o;var a=function(){return function(e){this.type=e}}();function r(e,t){if("string"==typeof t)return u(e,l(t));if(t instanceof cc.Node)return u(e,t);if(t instanceof cc.Component)return u(e,t.node);if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=u(e,t[n].node);if(i)return i}return[]}return u(e)}function s(e,t){if("string"==typeof t)return console.error(t),c(e,l(t));if(t instanceof cc.Node)return c(e,t);if(t instanceof cc.Component)return c(e,t.node);if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=c(e,t[n].node);if(i)return i}return null}return c(e)}function c(e,t){return void 0===t&&(t=cc.Canvas.instance.node),t.getComponent(e)||t.getComponentInChildren(e)}function u(e,t){return void 0===t&&(t=cc.Canvas.instance.node),t.getComponents(e).concat(t.getComponentsInChildren(e))}function l(e,t){if("string"==typeof t)return p(e,l(t));if(t instanceof cc.Node)return p(e,t);if(t instanceof cc.Component)return t.node,p(e,t.node);if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=p(e,t[n].node);if(i)return i}return null}return p(e)}function p(e,t){void 0===t&&(t=cc.Canvas.instance.node);for(var n=0;n<t.children.length;n++){if(t.children[n].name===e)return t.children[n];var i=p(e,t.children[n]);if(null!==i)return i}return null}function d(e,t){var n=e.getWorldMatrix(cc.mat4()).getTranslation(cc.v3()),i=n.x,o=n.y,a=t.getWorldMatrix(cc.mat4()).getTranslation(cc.v3()),r=a.x,s=a.y;return cc.v2(r-i,s-o)}function h(e,t){var i=d(e,t);return i.mulSelf(1/n.globalData.scale),i}function f(e,t){return e+Math.random()*(t-e)}function m(e,t){return Math.floor(f(e,t))}n.FindParentArgs=a,n.findComponents=r,n.findComponent=s,n.findComponentInChildren=c,n.findComponentsInChildren=u,n.findNode=l,n.findNodeInChildren=p,n.find=function(e,t){if(this instanceof i.BaseComponent){if(t||(t=this),0==this.__onLoaded&&!this.node)return new o(e,t)}return t instanceof o?n.find(e,n.find(t.name,t.parent)):"string"==typeof e?l(e,t):Array.isArray(e)?r(e[0],t):s(e,t)},n.findInParents=function(e){if(this instanceof i.BaseComponent){if(0==this.__onLoaded)return new a(e)}var t=this.node.parent;if("string"==typeof e)for(;t&&!(t instanceof cc.Scene);){if(t.name==e)return t;t=t.parent}else for(var n=null;t&&!(t instanceof cc.Scene);){if(null!==(n=t.getComponent(e)))return n;t=t.parent}return null},n.getUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]||[],i=e.slice(1),o=new Set(n);return i.forEach(function(e){e.forEach(function(e){return o.add(e)})}),Array.from(o)},n.globalData={scale:1,isShow:!0},n.cloneJsonData=function(e){return JSON.parse(JSON.stringify(e))},n.removeItem=function(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)},n.angleToPosttion=function(e){var t=Math.sin(e*(Math.PI/180)),n=Math.cos(e*(Math.PI/180));return 0!==e&&180!==e||(t=0),90!==e&&270!==e||(n=0),cc.v2(t,n)},n.posttionToAngle=function(e,t){void 0===t&&(t=cc.v2(0,0));var n=180*Math.atan2(t.x-e.x,t.y-e.y)/Math.PI;return n>360?n-360:n<0?n+360:n},n.getNodePositionDiff=d,n.getNodePositionDiffScaled=h,n.getNodePositionDistanceScaled=function(e,t){var n=h(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)},n.getNodePositionDistance=function(e,t){var n=d(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)},n.getPointDistance=function(e,t){void 0===t&&(t=cc.v2(0,0));var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},n.randomAtoB=f,n.randomIntAtoB=m,n.randomMinus1To1=function(){return f(-1,1)},n.randomItem=function(e,t){if(Array.isArray(t)){var n=t.reduce(function(e,t){return e+(t||1)},0),i=Math.random()*n;return e.find(function(e,n){if((i-=t[n])<=0)return e})}return e[m(0,e.length)]},n.seedRandom=function(e){void 0===e&&(e=Date.now());var t=function(){return t._seed=(9301*t._seed+49297)%233280,t._seed/233280};return t._seed=e,t},n.arrayRandomSort=function(e){return e.slice().sort(function(){return Math.random()-.5})},n.splitByLength=function(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(e.slice(i,i+t).slice());return n},n.emit=function(e,t,n){var i=new cc.Event.EventCustom(t,!0);i.setUserData(n),e instanceof cc.Component?e.node.dispatchEvent(i):e.dispatchEvent(i)},n.copyText=function(e){var t=e.toString(),n=document.createElement("input");n.style.cssText="position:fixed !important;  top:0 !important;  left:0 !important;  opacity:0 !important;  pointer-events:none !important;  ",n.value=t,document.body.appendChild(n),n.select(),n.setSelectionRange(0,t.length),document.execCommand("copy"),document.body.removeChild(n)};var y={_time:0,_idCount:0,_timeoutMap:new Map,_scheduler:null,_canvas:null};function g(e){if(y._time+=e,0!=y._timeoutMap.size){var t=[];y._timeoutMap.forEach(function(e,n){e.time>y._time||(e.repeat--,e.repeat>0?e.time+=y._time-e.time+e.timePlus:t.push(n),e.callback())}),t.forEach(function(e){y._timeoutMap.delete(e)})}}function v(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),y._scheduler||(y._scheduler=cc.director.getScheduler(),y._scheduler.schedule(g,cc.Canvas.instance,0),y._canvas=cc.Canvas.instance),y._canvas!=cc.Canvas.instance&&(y._timeoutMap.clear(),y._scheduler.unschedule(g,y._canvas),y._scheduler.schedule(g,cc.Canvas.instance,0),y._canvas=cc.Canvas.instance),y._idCount++,y._timeoutMap.set(y._idCount,{time:t/1e3+y._time,timePlus:t/1e3,callback:e,repeat:n}),y._idCount}function _(e){y._timeoutMap.delete(e)}n.delay=function(e){return void 0===e&&(e=0),new Promise(function(t){return v(t,e)})},n.setTimeout=v,n.setInterval=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1/0),v(e,t,n)},n.clearTimeout=_,n.clearInterval=function(e){_(e)},cc._RF.pop()},{"./Base":"Base"}],WinView:[function(e,t,n){"use strict";cc._RF.push(t,"21d75kbr+JEib7eOSORGJPI","WinView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/AnimeLine"),o=e("./Base/Base"),a=e("./Base/Util"),r=cc._decorator.ccclass,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){var e=this.find("Anime"),t=this.find("Gold"),n=this.find("GoldSmall");new i.default(t).anime(.1,{rotation:-10}).anime(.2,{rotation:10}).anime(.1,{rotation:0}).repeat().run();var o=function(){new i.default(cc.instantiate(n),{speedY:1200*Math.random()}).anime({scale:.7+.3*Math.random(),x:50*a.randomMinus1To1(),y:50*a.randomMinus1To1()}).callback(function(t){e.addChild(t.node)}).anime(1,{x:400*a.randomMinus1To1(),opacity:0,callback:function(e){var t=-2e3*e.progress+e.data.speedY;e.animeLine.node.y+=Number(t)/60}}).destroy().run(),setTimeout(o,40)};o()},t=__decorate([r],t)}(o.BaseComponent);n.default=s,cc._RF.pop()},{"./Base/AnimeLine":"AnimeLine","./Base/Base":"Base","./Base/Util":"Util"}],XXLCheck:[function(e,t,n){"use strict";cc._RF.push(t,"a474f6cq5RLUKTxT5Vz/iex","XXLCheck"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Base/Util"),o=null,a=0,r=function(){return function(e,t,n,i){this.node=null,this.id=0,this.x=0,this.y=0,this.type="0",this.checked=!1,this.selected=!1,this.score=0,this.props="",this.node=cc.instantiate(i.prefab),this.x=e,this.y=t,this.type=i.type,"bomb"==i.type&&(this.props="Boom")}}();function s(e,t,n){o=i.splitByLength(e,t),a=n}function c(e){var t=[];return e.map(function(e){return"0"==e.type||"-1"==e.type?null:u(e)}).forEach(function(e){null!==e&&(e.lineChains.length>=3&&t.push(e.lineChains),e.columnChains.length>=3&&t.push(e.columnChains))}),i.getUnion.apply(void 0,t)}function u(e){var t=f(e),n=[e],i=[e];return Object.keys(t).map(function(e){var n=t[e];n.every(function(e){return e})&&n.push.apply(n,l(n[1],e))}),t.left.every(function(e){return!!e&&(n.unshift(e),!0)}),t.right.every(function(e){return!!e&&(n.push(e),!0)}),t.up.every(function(e){return!!e&&(i.unshift(e),!0)}),t.down.every(function(e){return!!e&&(i.push(e),!0)}),{lineChains:n,columnChains:i}}function l(e,t){for(var n=[],i=e;;){var o=d(i,t);if(!o||o.type!==e.type)break;n.push(o),i=o}return n}function p(e,t,n){if(!e)return null;var i=d(e,n);return i&&i.type===t?i:null}function d(e,t){var n=e.x,i=e.y;switch(t){case"up":return h(n,i+1);case"down":return h(n,i-1);case"left":return h(n-1,i);case"right":return h(n+1,i)}}function h(e,t){return o[t]&&o[t][e]||null}function f(e){var t=e.x,n=e.y,i=[h(t,n+1),h(t,n+2),h(t,n-1),h(t,n-2),h(t-1,n),h(t-2,n),h(t+1,n),h(t+2,n)].map(function(t){return t&&t.type===e.type?t:null});return{up:[i[0],i[1]],down:[i[2],i[3]],left:[i[4],i[5]],right:[i[6],i[7]]}}n.Box=r,n.getHelp=function(e,t){s(e,t,e.length/t);var n={a:null,b:null};return e.some(function(e){var t=u(e);if(t.columnChains.length>=2){var i=h((r=t.columnChains[0]).x,r.y+1),o=h((a=t.columnChains[t.columnChains.length-1]).x,a.y-1);if(n.a=o,n.b=p(o,e.type,"down")||p(o,e.type,"left")||p(o,e.type,"right"),null!==n.b)return!0;if(n.a=i,n.b=p(i,e.type,"up")||p(i,e.type,"left")||p(i,e.type,"right"),null!==n.b)return!0}else if(t.lineChains.length>=2){var a,r;if(o=h((a=t.lineChains[0]).x-1,a.y),i=h((r=t.lineChains[t.lineChains.length-1]).x+1,r.y),n.a=o,n.b=p(o,e.type,"left")||p(o,e.type,"up")||p(o,e.type,"down"),null!==n.b)return!0;if(n.a=i,n.b=p(i,e.type,"right")||p(i,e.type,"up")||p(i,e.type,"down"),null!==n.b)return!0}var s=h(e.x,e.y+2),c=h(e.x+2,e.y);return!(!s||s.type!==e.type||(n.a=h(e.x,e.y+1),n.b=p(n.a,e.type,"left")||p(n.a,e.type,"right"),null===n.b))||!(!c||c.type!==e.type||(n.a=h(e.x+1,e.y),n.b=p(n.a,e.type,"up")||p(n.a,e.type,"down"),null===n.b))||void 0}),n.b&&n.a?n:null},n.xxlCheck=function(e,t,n,i){return s(e,t,n),c(i).length<3?null:c(i)},n.getUpdateColumn=function(e){var t=[];return e.forEach(function(e){t[e.x]||(t[e.x]=[]),t[e.x].push(e)}),t.forEach(function(e){e&&e.sort(function(e,t){return e.y-t.y})}),t.filter(function(e){return e})},n.getUpdateUnionList=function(e){return i.getUnion.apply(void 0,e.map(function(e){for(var t=[],n=e.y;n<a;n++)t.push(h(e.x,n));return t}))},window.quickCheck=c,cc._RF.pop()},{"./Base/Util":"Util"}]},{},["AnimeLine","Base","AudioManager","AutoBackground","AutoResizeLayer","ButtonAnime","CanvasVideoPlayer","Download","FrameAnime","Popup","Replay","GameConfigLoader","GameConfigTypes","CpSDK","Util","GameScene","Layer_1","Layer_gift","Layer_win","Progress","StartView","Timer","WinView","XXLCheck"]);</script><script type="text/javascript" charset="utf-8">;(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.WHATWGFetch={})))}(this,(function(y){var s=(typeof globalThis!=="undefined"&&globalThis)||(typeof self!=="undefined"&&self)||(typeof s!=="undefined"&&s);var m={searchParams:"URLSearchParams" in s,iterable:"Symbol" in s&&"iterator" in Symbol,blob:"FileReader" in s&&"Blob" in s&&(function(){try{new Blob();return true}catch(A){return false}})(),formData:"FormData" in s,arrayBuffer:"ArrayBuffer" in s};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(m.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var b=ArrayBuffer.isView||function(A){return A&&n.indexOf(Object.prototype.toString.call(A))>-1}}function j(A){if(typeof A!=="string"){A=String(A)}if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A===""){throw new TypeError("Invalid character in header field name")}return A.toLowerCase()}function k(A){if(typeof A!=="string"){A=String(A)}return A}function e(A){var B={next:function(){var C=A.shift();return{done:C===undefined,value:C}}};if(m.iterable){B[Symbol.iterator]=function(){return B}}return B}function q(A){this.map={};if(A instanceof q){A.forEach(function(C,B){this.append(B,C)},this)}else{if(Array.isArray(A)){A.forEach(function(B){this.append(B[0],B[1])},this)}else{if(A){Object.getOwnPropertyNames(A).forEach(function(B){this.append(B,A[B])},this)}}}}q.prototype.append=function(B,C){B=j(B);C=k(C);var A=this.map[B];this.map[B]=A?A+", "+C:C};q.prototype["delete"]=function(A){delete this.map[j(A)]};q.prototype.get=function(A){A=j(A);return this.has(A)?this.map[A]:null};q.prototype.has=function(A){return this.map.hasOwnProperty(j(A))};q.prototype.set=function(A,B){this.map[j(A)]=k(B)};q.prototype.forEach=function(C,A){for(var B in this.map){if(this.map.hasOwnProperty(B)){C.call(A,this.map[B],B,this)}}};q.prototype.keys=function(){var A=[];this.forEach(function(C,B){A.push(B)});return e(A)};q.prototype.values=function(){var A=[];this.forEach(function(B){A.push(B)});return e(A)};q.prototype.entries=function(){var A=[];this.forEach(function(C,B){A.push([B,C])});return e(A)};if(m.iterable){q.prototype[Symbol.iterator]=q.prototype.entries}function f(A){if(A.bodyUsed){return Promise.reject(new TypeError("Already read"))}A.bodyUsed=true}function i(A){return new Promise(function(C,B){A.onload=function(){C(A.result)};A.onerror=function(){B(A.error)}})}function c(B){var A=new FileReader();var C=i(A);A.readAsArrayBuffer(B);return C}function d(B){var A=new FileReader();var C=i(A);A.readAsText(B);return C}function w(B){var A=new Uint8Array(B);var D=new Array(A.length);for(var C=0;C<A.length;C++){D[C]=String.fromCharCode(A[C])}return D.join("")}function l(B){if(B.slice){return B.slice(0)}else{var A=new Uint8Array(B.byteLength);A.set(new Uint8Array(B));return A.buffer}}function r(){this.bodyUsed=false;this._initBody=function(A){this.bodyUsed=this.bodyUsed;this._bodyInit=A;if(!A){this._bodyText=""}else{if(typeof A==="string"){this._bodyText=A}else{if(m.blob&&Blob.prototype.isPrototypeOf(A)){this._bodyBlob=A}else{if(m.formData&&FormData.prototype.isPrototypeOf(A)){this._bodyFormData=A}else{if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)){this._bodyText=A.toString()}else{if(m.arrayBuffer&&m.blob&&u(A)){this._bodyArrayBuffer=l(A.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||b(A))){this._bodyArrayBuffer=l(A)}else{this._bodyText=A=Object.prototype.toString.call(A)}}}}}}}if(!this.headers.get("content-type")){if(typeof A==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else{if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else{if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}}}};if(m.blob){this.blob=function(){var A=f(this);if(A){return A}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else{if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}}}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=f(this);if(A){return A}if(ArrayBuffer.isView(this._bodyArrayBuffer)){return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength))}else{return Promise.resolve(this._bodyArrayBuffer)}}else{return this.blob().then(c)}}}this.text=function(){var A=f(this);if(A){return A}if(this._bodyBlob){return d(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(w(this._bodyArrayBuffer))}else{if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}};if(m.formData){this.formData=function(){return this.text().then(o)}}this.json=function(){return this.text().then(JSON.parse)};return this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(B){var A=B.toUpperCase();return v.indexOf(A)>-1?A:B}function t(B,C){if(!(this instanceof t)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}C=C||{};var A=C.body;if(B instanceof t){if(B.bodyUsed){throw new TypeError("Already read")}this.url=B.url;this.credentials=B.credentials;if(!C.headers){this.headers=new q(B.headers)}this.method=B.method;this.mode=B.mode;this.signal=B.signal;if(!A&&B._bodyInit!=null){A=B._bodyInit;B.bodyUsed=true}}else{this.url=String(B)}this.credentials=C.credentials||this.credentials||"same-origin";if(C.headers||!this.headers){this.headers=new q(C.headers)}this.method=x(C.method||this.method||"GET");this.mode=C.mode||this.mode||null;this.signal=C.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&A){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(A);if(this.method==="GET"||this.method==="HEAD"){if(C.cache==="no-store"||C.cache==="no-cache"){var E=/([?&])_=[^&]*/;if(E.test(this.url)){this.url=this.url.replace(E,"$1_="+new Date().getTime())}else{var D=/\?/;this.url+=(D.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}}t.prototype.clone=function(){return new t(this,{body:this._bodyInit})};function o(A){var B=new FormData();A.trim().split("&").forEach(function(C){if(C){var E=C.split("=");var D=E.shift().replace(/\+/g," ");var F=E.join("=").replace(/\+/g," ");B.append(decodeURIComponent(D),decodeURIComponent(F))}});return B}function z(C){var B=new q();var A=C.replace(/\r?\n[\t ]+/g," ");A.split(/\r?\n/).forEach(function(D){var G=D.split(":");var E=G.shift().trim();if(E){var F=G.join(":").trim();B.append(E,F)}});return B}r.call(t.prototype);function a(B,A){if(!(this instanceof a)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}if(!A){A={}}this.type="default";this.status=A.status===undefined?200:A.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText" in A?A.statusText:"";this.headers=new q(A.headers);this.url=A.url||"";this._initBody(B)}r.call(a.prototype);a.prototype.clone=function(){return new a(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})};a.error=function(){var A=new a(null,{status:0,statusText:""});A.type="error";return A};var h=[301,302,303,307,308];a.redirect=function(B,A){if(h.indexOf(A)===-1){throw new RangeError("Invalid status code")}return new a(null,{status:A,headers:{location:B}})};y.DOMException=s.DOMException;try{new y.DOMException()}catch(g){y.DOMException=function(C,B){this.message=C;this.name=B;var A=Error(C);this.stack=A.stack};y.DOMException.prototype=Object.create(Error.prototype);y.DOMException.prototype.constructor=y.DOMException}function p(A,B){return new Promise(function(F,E){var D=new t(A,B);if(D.signal&&D.signal.aborted){return E(new y.DOMException("Aborted","AbortError"))}var G=new XMLHttpRequest();function H(){G.abort()}G.onload=function(){var J={status:G.status,statusText:G.statusText,headers:z(G.getAllResponseHeaders()||"")};J.url="responseURL" in G?G.responseURL:J.headers.get("X-Request-URL");var I="response" in G?G.response:G.responseText;setTimeout(function(){F(new a(I,J))},0)};G.onerror=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)};G.ontimeout=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)};G.onabort=function(){setTimeout(function(){E(new y.DOMException("Aborted","AbortError"))},0)};function C(I){try{return I===""&&s.location.href?s.location.href:I}catch(J){return I}}G.open(D.method,C(D.url),true);if(D.credentials==="include"){G.withCredentials=true}else{if(D.credentials==="omit"){G.withCredentials=false}}if("responseType" in G){if(m.blob){G.responseType="blob"}else{if(m.arrayBuffer&&D.headers.get("Content-Type")&&D.headers.get("Content-Type").indexOf("application/octet-stream")!==-1){G.responseType="arraybuffer"}}}if(B&&typeof B.headers==="object"&&!(B.headers instanceof q)){Object.getOwnPropertyNames(B.headers).forEach(function(I){G.setRequestHeader(I,k(B.headers[I]))})}else{D.headers.forEach(function(J,I){G.setRequestHeader(I,J)})}if(D.signal){D.signal.addEventListener("abort",H);G.onreadystatechange=function(){if(G.readyState===4){D.signal.removeEventListener("abort",H)}}}G.send(typeof D._bodyInit==="undefined"?null:D._bodyInit)})}p.polyfill=true;if(!s.fetch){s.fetch=p;s.Headers=q;s.Request=t;s.Response=a}y.Headers=q;y.Request=t;y.Response=a;y.fetch=p;Object.defineProperty(y,"__esModule",{value:true})})));;(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.WHATWGFetch={})))}(this,(function(y){var s=(typeof globalThis!=="undefined"&&globalThis)||(typeof self!=="undefined"&&self)||(typeof s!=="undefined"&&s);var m={searchParams:"URLSearchParams" in s,iterable:"Symbol" in s&&"iterator" in Symbol,blob:"FileReader" in s&&"Blob" in s&&(function(){try{new Blob();return true}catch(A){return false}})(),formData:"FormData" in s,arrayBuffer:"ArrayBuffer" in s};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(m.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var b=ArrayBuffer.isView||function(A){return A&&n.indexOf(Object.prototype.toString.call(A))>-1}}function j(A){if(typeof A!=="string"){A=String(A)}if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A===""){throw new TypeError("Invalid character in header field name")}return A.toLowerCase()}function k(A){if(typeof A!=="string"){A=String(A)}return A}function e(A){var B={next:function(){var C=A.shift();return{done:C===undefined,value:C}}};if(m.iterable){B[Symbol.iterator]=function(){return B}}return B}function q(A){this.map={};if(A instanceof q){A.forEach(function(C,B){this.append(B,C)},this)}else{if(Array.isArray(A)){A.forEach(function(B){this.append(B[0],B[1])},this)}else{if(A){Object.getOwnPropertyNames(A).forEach(function(B){this.append(B,A[B])},this)}}}}q.prototype.append=function(B,C){B=j(B);C=k(C);var A=this.map[B];this.map[B]=A?A+", "+C:C};q.prototype["delete"]=function(A){delete this.map[j(A)]};q.prototype.get=function(A){A=j(A);return this.has(A)?this.map[A]:null};q.prototype.has=function(A){return this.map.hasOwnProperty(j(A))};q.prototype.set=function(A,B){this.map[j(A)]=k(B)};q.prototype.forEach=function(C,A){for(var B in this.map){if(this.map.hasOwnProperty(B)){C.call(A,this.map[B],B,this)}}};q.prototype.keys=function(){var A=[];this.forEach(function(C,B){A.push(B)});return e(A)};q.prototype.values=function(){var A=[];this.forEach(function(B){A.push(B)});return e(A)};q.prototype.entries=function(){var A=[];this.forEach(function(C,B){A.push([B,C])});return e(A)};if(m.iterable){q.prototype[Symbol.iterator]=q.prototype.entries}function f(A){if(A.bodyUsed){return Promise.reject(new TypeError("Already read"))}A.bodyUsed=true}function i(A){return new Promise(function(C,B){A.onload=function(){C(A.result)};A.onerror=function(){B(A.error)}})}function c(B){var A=new FileReader();var C=i(A);A.readAsArrayBuffer(B);return C}function d(B){var A=new FileReader();var C=i(A);A.readAsText(B);return C}function w(B){var A=new Uint8Array(B);var D=new Array(A.length);for(var C=0;C<A.length;C++){D[C]=String.fromCharCode(A[C])}return D.join("")}function l(B){if(B.slice){return B.slice(0)}else{var A=new Uint8Array(B.byteLength);A.set(new Uint8Array(B));return A.buffer}}function r(){this.bodyUsed=false;this._initBody=function(A){this.bodyUsed=this.bodyUsed;this._bodyInit=A;if(!A){this._bodyText=""}else{if(typeof A==="string"){this._bodyText=A}else{if(m.blob&&Blob.prototype.isPrototypeOf(A)){this._bodyBlob=A}else{if(m.formData&&FormData.prototype.isPrototypeOf(A)){this._bodyFormData=A}else{if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)){this._bodyText=A.toString()}else{if(m.arrayBuffer&&m.blob&&u(A)){this._bodyArrayBuffer=l(A.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||b(A))){this._bodyArrayBuffer=l(A)}else{this._bodyText=A=Object.prototype.toString.call(A)}}}}}}}if(!this.headers.get("content-type")){if(typeof A==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else{if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else{if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}}}};if(m.blob){this.blob=function(){var A=f(this);if(A){return A}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else{if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}}}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=f(this);if(A){return A}if(ArrayBuffer.isView(this._bodyArrayBuffer)){return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength))}else{return Promise.resolve(this._bodyArrayBuffer)}}else{return this.blob().then(c)}}}this.text=function(){var A=f(this);if(A){return A}if(this._bodyBlob){return d(this._bodyBlob)}else{if(this._bodyArrayBuffer){return Promise.resolve(w(this._bodyArrayBuffer))}else{if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}};if(m.formData){this.formData=function(){return this.text().then(o)}}this.json=function(){return this.text().then(JSON.parse)};return this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(B){var A=B.toUpperCase();return v.indexOf(A)>-1?A:B}function t(B,C){if(!(this instanceof t)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}C=C||{};var A=C.body;if(B instanceof t){if(B.bodyUsed){throw new TypeError("Already read")}this.url=B.url;this.credentials=B.credentials;if(!C.headers){this.headers=new q(B.headers)}this.method=B.method;this.mode=B.mode;this.signal=B.signal;if(!A&&B._bodyInit!=null){A=B._bodyInit;B.bodyUsed=true}}else{this.url=String(B)}this.credentials=C.credentials||this.credentials||"same-origin";if(C.headers||!this.headers){this.headers=new q(C.headers)}this.method=x(C.method||this.method||"GET");this.mode=C.mode||this.mode||null;this.signal=C.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&A){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(A);if(this.method==="GET"||this.method==="HEAD"){if(C.cache==="no-store"||C.cache==="no-cache"){var E=/([?&])_=[^&]*/;if(E.test(this.url)){this.url=this.url.replace(E,"$1_="+new Date().getTime())}else{var D=/\?/;this.url+=(D.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}}t.prototype.clone=function(){return new t(this,{body:this._bodyInit})};function o(A){var B=new FormData();A.trim().split("&").forEach(function(C){if(C){var E=C.split("=");var D=E.shift().replace(/\+/g," ");var F=E.join("=").replace(/\+/g," ");B.append(decodeURIComponent(D),decodeURIComponent(F))}});return B}function z(C){var B=new q();var A=C.replace(/\r?\n[\t ]+/g," ");A.split(/\r?\n/).forEach(function(D){var G=D.split(":");var E=G.shift().trim();if(E){var F=G.join(":").trim();B.append(E,F)}});return B}r.call(t.prototype);function a(B,A){if(!(this instanceof a)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}if(!A){A={}}this.type="default";this.status=A.status===undefined?200:A.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText" in A?A.statusText:"";this.headers=new q(A.headers);this.url=A.url||"";this._initBody(B)}r.call(a.prototype);a.prototype.clone=function(){return new a(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})};a.error=function(){var A=new a(null,{status:0,statusText:""});A.type="error";return A};var h=[301,302,303,307,308];a.redirect=function(B,A){if(h.indexOf(A)===-1){throw new RangeError("Invalid status code")}return new a(null,{status:A,headers:{location:B}})};y.DOMException=s.DOMException;try{new y.DOMException()}catch(g){y.DOMException=function(C,B){this.message=C;this.name=B;var A=Error(C);this.stack=A.stack};y.DOMException.prototype=Object.create(Error.prototype);y.DOMException.prototype.constructor=y.DOMException}function p(A,B){return new Promise(function(F,E){var D=new t(A,B);if(D.signal&&D.signal.aborted){return E(new y.DOMException("Aborted","AbortError"))}var G=new XMLHttpRequest();function H(){G.abort()}G.onload=function(){var J={status:G.status,statusText:G.statusText,headers:z(G.getAllResponseHeaders()||"")};J.url="responseURL" in G?G.responseURL:J.headers.get("X-Request-URL");var I="response" in G?G.response:G.responseText;setTimeout(function(){F(new a(I,J))},0)};G.onerror=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)};G.ontimeout=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)};G.onabort=function(){setTimeout(function(){E(new y.DOMException("Aborted","AbortError"))},0)};function C(I){try{return I===""&&s.location.href?s.location.href:I}catch(J){return I}}G.open(D.method,C(D.url),true);if(D.credentials==="include"){G.withCredentials=true}else{if(D.credentials==="omit"){G.withCredentials=false}}if("responseType" in G){if(m.blob){G.responseType="blob"}else{if(m.arrayBuffer&&D.headers.get("Content-Type")&&D.headers.get("Content-Type").indexOf("application/octet-stream")!==-1){G.responseType="arraybuffer"}}}if(B&&typeof B.headers==="object"&&!(B.headers instanceof q)){Object.getOwnPropertyNames(B.headers).forEach(function(I){G.setRequestHeader(I,k(B.headers[I]))})}else{D.headers.forEach(function(J,I){G.setRequestHeader(I,J)})}if(D.signal){D.signal.addEventListener("abort",H);G.onreadystatechange=function(){if(G.readyState===4){D.signal.removeEventListener("abort",H)}}}G.send(typeof D._bodyInit==="undefined"?null:D._bodyInit)})}p.polyfill=true;if(!s.fetch){s.fetch=p;s.Headers=q;s.Request=t;s.Response=a}y.Headers=q;y.Request=t;y.Response=a;y.fetch=p;Object.defineProperty(y,"__esModule",{value:true})})));window.__templateType="pangleJL",document.addEventListener("cocos:loadSceneEnd",function(){window.playableSDK&&window.playableSDK.sendEvent("loadMainScene"),window.playableSDK&&window.playableSDK.sendEvent("enterSection",{section:"section0",section_remark:"加载页面"})});var androidVerRexexpMatchResult,iosVerRexexpMatchResult,androidVer,iosVer,playableSDK_viewable,Yeah=window.Yeah||{};function _fetchThen(o){return new Promise(function(e,n){(o.ok?e:n)(o)})}function initLoading(){var e;window.gameConfig&&window.gameConfig.global.customLoading&&(["logo","backgroundImage","progressBarImage","progressImage"].forEach(function(e){window.resMap&&window.resMap[gameConfig.global.loading[e]]&&(gameConfig.global.loading[e]=window.resMap[gameConfig.global.loading[e]])}),e=document.querySelector("#splash-logo"),gameConfig.global.loading.logoStyle&&(e.style.cssText=gameConfig.global.loading.logoStyle),e.src=gameConfig.global.loading.logo||"",e.style.top=gameConfig.global.loading.logoPosition||e.style.top,e.style.width=gameConfig.global.loading.logoWidth||e.style.width,(e=document.querySelector(".progress-bar-msg")).style.display="block",gameConfig.global.loading.progressTextStyle&&(e.style.cssText=gameConfig.global.loading.progressTextStyle),e.innerText=gameConfig.global.loading.progressText,e.style.top=gameConfig.global.loading.progressTextPosition||e.style.top,(e=document.querySelector("#splash")).style.backgroundColor=gameConfig.global.loading.backgroundColor,e.style.backgroundImage="url("+gameConfig.global.loading.backgroundImage+")",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center",e.style.backgroundSize=gameConfig.global.loading.backgroundSize,(e=document.querySelector(".progress-bar")).dataset.type="image",gameConfig.global.loading.progressBarStyle&&(e.style.cssText=gameConfig.global.loading.progressBarStyle),e.style.width=gameConfig.global.loading.progressBarWidth||e.style.width,e.style.maxWidth=gameConfig.global.loading.progressBarMaxWidth||e.style.maxWidth,e.style.top=gameConfig.global.loading.progressBarPosition||e.style.top,document.querySelector(".progress-bar-bg").src=gameConfig.global.loading.progressBarImage||"",gameConfig.global.loading.progressStyle&&(document.querySelector(".progress-bar-target").style.cssText=gameConfig.global.loading.progressStyle),document.querySelector(".progress-bar-target").style.width=0,document.querySelector(".progress-bar-target-image").src=gameConfig.global.loading.progressImage||"")}function loadScript(a){return new Promise(function(e,n){var o=document.createElement("script");o.src=(window.__assetsPath||"")+a,o.onload=e,o.onerror=n,document.body.appendChild(o)})}function boot(){function n(){initLoading(),window.ccIsInAfter||("object"!=typeof window.cc?loadScript("cocosengine.js").then(function(){return loadScript("src/settings.js")}).then(function(){return loadScript("src/project.js")}).then(e):e())}function e(){setLoader(),cc.view.__backup_initFrameSize=cc.view._initFrameSize,cc.view._initFrameSize=function(){this.__backup_initFrameSize(),cc.view._orientation===cc.macro.ORIENTATION_PORTRAIT&&(cc.view._isRotated?(document.querySelector("#GameCanvas").style.webkitTransform="rotate(180deg)",document.querySelector("#GameCanvas").style.transform="rotate(180deg)",-90==window.orientation&&(document.querySelector("#GameCanvas").style.webkitTransform="rotate(0deg)",document.querySelector("#GameCanvas").style.transform="rotate(0deg)")):(document.querySelector("#GameCanvas").style.webkitTransform="rotate(0deg)",document.querySelector("#GameCanvas").style.transform="rotate(0deg)"),cc.view.convertToLocationInView=function(e,n,o,a){var t=a||cc.v2(),r=o.adjustedLeft||o.left,a=o.adjustedTop||o.top,r=this._devicePixelRatio*(e-r),n=this._devicePixelRatio*(a+o.height-n);return this._isRotated?(t.x=cc.game.canvas.width-n,t.y=r,t.x=cc.game.canvas.width-t.x,t.y=cc.game.canvas.height-t.y,-90==window.orientation&&(t.x=cc.game.canvas.width-t.x,t.y=cc.game.canvas.height-t.y)):(t.x=r,t.y=n),t})};var l=window._CCSettings;if(window._CCSettings=void 0,!l.debug){var e,n=l.uuids,o=l.rawAssets,a=l.assetTypes,t=l.rawAssets={};for(e in o){var r,i=o[e],s=t[e]={};for(r in i){var c=i[r],d=c[1];"number"==typeof d&&(c[1]=a[d]),s[n[r]||r]=c}}for(var u=l.scenes,g=0;g<u.length;++g){var w=u[g];"number"==typeof w.uuid&&(w.uuid=n[w.uuid])}var f,p=l.packedAssets;for(f in p)for(var m=p[f],h=0;h<m.length;++h)"number"==typeof m[h]&&(m[h]=n[m[h]]);var y,v=l.subpackages;for(y in v){var b=v[y].uuids;if(b)for(var S=0,A=b.length;S<A;S++)"number"==typeof b[S]&&(b[S]=n[b[S]])}}var C={id:"GameCanvas",scenes:l.scenes,debugMode:l.debug?cc.debug.DebugMode.INFO:cc.debug.DebugMode.ERROR,showFPS:l.debug,frameRate:60,jsList:[],groupList:l.groupList,collisionMatrix:l.collisionMatrix};function _(){function e(){if(""!=r&&!s){for(var e="",n=0;n<i;n++)e+=".";t.innerText=r+e,3<++i&&(i=0)}}var n,a,t,o,r,i,s;cc.loader.downloader._subpackages=l.subpackages,cc.view.enableRetina(!0),cc.view.resizeWithBrowserSize(!0),cc.sys.isBrowser&&(n=document.getElementById("splash"),a=n.querySelector(".progress-bar-target"),t=n.querySelector(".progress-bar-msg"),r=o="",i=0,s=!1,t&&t.innerText&&("0%"==(o=t.innerText)?s=!0:/[.]+$/.test(o)&&(r=o.replace(/[.]+$/,""))),cc.loader.onProgress=function(e,n,o){n=100*e/n;a&&(a.style.width=n.toFixed(2)+"%"),s&&(t.innerText=Math.floor(n)+"%")},n.style.display="block",a.style.width="0%",cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){setTimeout(function(){n.style.display="none",t.innerText=o},200),clearTimeout(e)}),setInterval(e,500)),cc.sys.isMobile&&cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID&&(cc.macro.DOWNLOAD_MAX_CONCURRENT=2),function o(a){cc.director.loadScene(a,function(e){var n;e?CC_BUILD&&setTimeout(function(){o(a)},1e3):(cc.sys.isBrowser&&(document.getElementById("GameCanvas").style.visibility="",(n=document.getElementById("GameDiv"))&&(n.style.backgroundImage="")),cc.loader.onProgress=null,console.log("Success to load scene: "+a),(n=document.createEvent("UIEvent")).initEvent("cocos:loadSceneEnd",!0,!0),document.dispatchEvent(n))});var e=document.createEvent("UIEvent");e.initEvent("cocos:loadSceneStart",!0,!0),document.dispatchEvent(e)}(l.launchScene)}cc.AssetLibrary.init({libraryPath:"res/import",rawAssetsBase:"res/raw-",rawAssets:l.rawAssets,packedAssets:l.packedAssets,md5AssetsMap:l.md5AssetsMap,subpackages:l.subpackages}),function(e){var n,o=[];for(n in gameConfig)if(gameConfig[n].images)for(var a in gameConfig[n].images){var t=gameConfig[n].images[a];o.push(t)}promiseQueue(o.map(function(t){return function(){return new Promise(function(e,n){var o=new Image,a=getGameConfigResourceUrl(t.value);o.crossOrigin="",o.src=window.resMap&&window.resMap[a]?window.resMap[a]:a,o.onload=e,o.onerror=n,t._image=o})}}),10).then(function(){o.forEach(function(e){e.height=e._image.height,e.width=e._image.width}),e()})}(function(){cc.game.run(C,_)})}boot.runing||(boot.runing=!0,window.__cocosReady=e,window.gameConfig?(console.log("config.json OK !"),n()):fetch(function(e){var n=window.location.search.substring(1);if(0<(n=decodeURIComponent(n)).length)for(var o=n.split("&"),a=0;a<o.length;a++){var t=o[a].split("=");if(t[0]==e)return t[1]}return null}("playtemplate_preview_config")||"./templateCfg/config.json").then(_fetchThen).then(function(e){return e.json()}).then(function(e){window.gameConfig=e,console.log("load config.json OK !"),n()}).catch(function(){console.log("load config.json error !"),n()}))}function setLoader(){if("pangleJL"==window.__templateType)for(var e in gameConfig){var n=gameConfig[e];if(n.props)for(var o in n.props){var a=n.props[o];"position"==a.type&&(a.value=a.value[0]+","+-a.value[1])}}var i,s,t,r,l,u,g,c;function w(e){e=e.split(/[\\\/]/);return e[e.length-1].replace(/\.[\w\d]+$/i,"").replace(/-/g,"")}function d(e){if(window.resMap&&window.resMap[e])return e;if(window.resMap&&resMap["assets/"+e])return"assets/"+e;if(window.resMap&&resMap["assets/assets/"+e])return"assets/assets/"+e;var n=w(e),o=window.gameConfig||window.__gameConfig;if(o.global.__isSaveInTs)return window.__loadResFromAssets&&/^res\//.test(e)?"assets/"+e:e;if(null==u){var a,t,r=o.global.selectLang||"auto";for(t in"auto"==r&&(a=langNameFormat(window.Yeah&&Yeah.getLang?Yeah.getLang():("zh-cn"==(a=(navigator.browserLanguage||navigator.language).toLowerCase())?a="zh-cn":"zh"==(a=a.split("-")[0])&&(a="zh-tw"),a)),o.global.langs&&(-1!=o.global.langs.indexOf(a)?r=a:0==a.indexOf("zh")&&(-1!=o.global.langs.indexOf("zh_CN")?r="zh_CN":-1!=o.global.langs.indexOf("zh_TW")&&(r="zh_TW")))),u={},g={},o){var i,s=o[t];for(i in s){var l,c=s[i];for(l in c){var d=c[l];"int"==d.type&&(d.value=parseInt(d.value)),"int"!=d.type&&"number"!=d.type||(d.value=Math.max(d.value,d.min||0),d.value=Math.min(d.value,d.max||100)),"image"!=d.type&&"audio"!=d.type&&"video"!=d.type||(d.langs&&d.langs[r]&&d.langs[r].value?(u[l.replace(/^key_/,"")]=(d.langs[r]||d).value,g[d._uuid]=d.langs[r]||d):(u[l.replace(/^key_/,"")]=d.value,g[d._uuid]=d))}}}}return e=u[n]||e,window.__loadResFromAssets&&/^res\//.test(e)?"assets/"+e:e}function f(e){e=d(e);return window.resMap&&window.resMap[e]||!window.__assetsPath||/^(https|http|\/\/)/.test(e)?e:window.__assetsPath+e}function p(e,n){var o=document.createElement("audio");o.muted=!0,o.muted=!1;var a=f(e.url);window.resMap&&window.resMap[a]?o.src=window.URL.createObjectURL(function(e,n){for(var o=atob(e,n),a=o.length,t=new Uint8Array(a);a--;)t[a]=o.charCodeAt(a);return new Blob([t],{type:n})}(window.resMap[a],"audio/mpeg")):o.src=a,o.addEventListener("canplaythrough",function(){n(null,o)}),o.addEventListener("error",function(){n("load audio failure - "+e.url)})}function m(e,n){l||n(new Error("Audio Downloader: no web audio context."));var o,a=f(e.url);window.resMap&&window.resMap[a]?(o=function(e){for(var n=atob(e),o=n.length,a=new Uint8Array(o);o--;)a[o]=n.charCodeAt(o);return a}(o=window.resMap[a]))?l.decodeAudioData(o.buffer,function(e){n(null,e)},function(){n("decode error - "+e.id,null)}):n("request error - "+e.id,null):fetch(a).then(_fetchThen).then(function(e){return e.arrayBuffer()}).then(function(e){l.decodeAudioData(e,function(e){n(null,e)})}).catch(function(){n("request error - "+e.id,null)})}function h(e,n){if(o=e.url,o=a||w(o),gameConfig.global.frameUuids&&-1!=gameConfig.global.frameUuids.indexOf(o))return"loading"==c?(r=function(){n(null,i)},void(i._isOnload?r():s.push(r))):void function(){c="loading";var e,n=[];for(e in gameConfig)if(gameConfig[e].frameAnimes)for(var o in gameConfig[e].frameAnimes)for(var a in gameConfig[e].frameAnimes[o].animes)n=n.concat(gameConfig[e].frameAnimes[o].animes[a].frames);return promiseQueue(n.map(function(t){return function(){return new Promise(function(e,n){var o=new Image,a=f(t.url);o.crossOrigin="",o.src=window.resMap&&window.resMap[a]?window.resMap[a]:a,o.onload=e,o.onerror=n,t._image=o})}}),20)}().then(function(){n(null,i)}).catch(function(){n(new Error("loadFrameAnimeImages error !"))});var o,a,t=new Image;t.crossOrigin="",t.addEventListener("load",function(){n(null,t)}),t.addEventListener("error",function(){n(new Error("Load image ("+e.url+") failed"))});var r=f(e.url);t.src=window.resMap&&window.resMap[r]?window.resMap[r]:r}function y(e,n){if(/\.json$/i.test(e)){var o=JSON.parse(n),e=Array.isArray(o),o=e?o:[o];return o.forEach(function(e){var n;"cc.SpriteFrame"==e.__type__&&e.content&&(!g||(n=g[e.content.texture])&&n.width&&!n.hidden&&(n.width==e.content.originalSize[0]&&n.height==e.content.originalSize[1]||(e.content.originalSize=[n.width,n.height],e.content.offset=[0,0],e.content.rect=[0,0,n.width,n.height])))}),e?JSON.stringify(o):JSON.stringify(o[0])}return n}function v(n,o){var e=f(n.url);window.resMap&&window.resMap[e]?o(null,y(n.url,window.resMap[e])):fetch(e).then(_fetchThen).then(function(e){return e.text()}).then(function(e){o(null,y(n.url,e))}).catch(function(){o(new Error("Load Text ("+n.url+") failed"))})}function b(e,n){if(0===r.length)return new Error("Audio Downloader: audio not supported on this browser!");e.content=e.url,(!t.WEB_AUDIO||e.urlParam&&e.urlParam.useDom?p:m)(e,n)}cc.SpriteFrame.prototype._checkRect=function(){},setLoader.runing||(setLoader.runing=!0,(i=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACAQMAAABIeJ9nAAAAA1BMVEX///+nxBvIAAAACklEQVQI12MAAgAABAABINItbwAAAABJRU5ErkJggg==",s=[],i.onload=function(){i._isOnload=!0,s.forEach(function(e){e()})},t=cc.sys.__audioSupport,r=t.format,l=t.context,g=u=null,window.getGameConfigResourceUrl=f,c="wait",cc.loader.addDownloadHandlers({png:h,jpg:h,jpeg:h}),cc.loader.addDownloadHandlers({json:v,plist:v,fnt:v,atlas:v,txt:v}),cc.loader.addDownloadHandlers({mp3:b,ogg:b,wav:b,m4a:b}),cc.loader.addDownloadHandlers({mp4:function(o,a){function n(e){var n=document.createElement("video");(o.video=n).src=e,n.crossOrigin="",n.preload="auto",n.playsInline=!0,n.setAttribute("x5-video-player-type","h5"),n.setAttribute("x5-video-player-fullscreen","true"),n.setAttribute("x5-playsinline","true"),n.setAttribute("webkit-playsinline","true"),n.setAttribute("playsInline","true"),n.oncanplay=function(){n.isCanplay||(n.isCanplay=!0,a(null,""),n.oncanplay=null)},n.load(),/MicroMessenger/i.test(window.navigator.userAgent)&&setTimeout(function(){n.oncanplay&&n.oncanplay(null)},2e3)}var e=f(o.url);window.resMap&&window.resMap[e]?(o.url=window.resMap[e],o._owner&&Object.defineProperty(o._owner,"nativeUrl",{get:function(){return window.resMap[e]},set:function(){}}),n(o.url)):(o.url=e,fetch(e).then(_fetchThen).then(function(e){return e.blob()}).then(function(e){o.url=URL.createObjectURL(e),o._owner&&Object.defineProperty(o._owner,"nativeUrl",{get:function(){return o.url},set:function(){}}),n(o.url)}).catch(function(){a("request error - "+o.id,null)}))}}))}function langNameFormat(e){return e.split(/[_-]/).map(function(e,n){return 0===n?e.toLowerCase():e.toUpperCase()}).join("_")}function promiseQueue(e,t){return t=t||1,new Promise(function(n){var a=e.map(function(e){return{fn:e,status:"wait",result:null}});!function o(){var e;a.every(function(e){return"ok"==e.status||"error"==e.status})?n(a):(e=0,a.some(function(n){if("wait"==n.status?(e++,n.status="runing",n.fn().then(function(e){n.result=e,n.status="ok",o()}).catch(function(e){n.result=e,n.status="error",o()})):"runing"==n.status&&e++,e==t)return!0}))}()})}(window.Yeah=Yeah).click=function(){try{window.playableSDK&&window.playableSDK.openAppStore()}catch(e){console.log("open app store")}},Yeah.end=function(){try{window.playableSDK&&window.playableSDK.sendEvent("finishPlayPlayable")}catch(e){console.log("finishPlayPlayable")}},Yeah.firstTouch=function(){try{window.playableSDK&&window.playableSDK.sendEvent("startPlayPlayable")}catch(e){console.log("startPlayPlayable")}},Yeah.clickContent=function(e,n,o){Yeah.clickArea(e,n,o)},Yeah.clickFinishContent=function(e,n,o){Yeah.clickArea(e,n,o)},Yeah.autoClick=function(e){},Yeah.clickDownloadBar=function(e,n,o){Yeah.clickArea(e,n,o)},Yeah.clickFinishDownloadBar=function(e,n,o){Yeah.clickArea(e,n,o)},Yeah.clickArea=function(e,n,o){var a="section"+(e=10<(e=e<1?1:e)?10:e),t="area"+(n=10<(n=n<1?1:n)?10:n);try{o?window.playableSDK&&window.playableSDK.sendEvent("clickArea",{section:a,area:t,area_remark:o}):window.playableSDK&&window.playableSDK.sendEvent("clickArea",{section:a,area:t})}catch(e){o?console.log("clickArea:("+a+","+t+","+o+")"):console.log("clickArea:("+a+","+t+")")}},Yeah.clickReborn=function(e,n,o){e=10<(e=e<1?1:e)?10:e,n=10<(n=n<1?1:n)?10:n},Yeah.enterSection=function(e,n){var o="section"+(e=10<(e=e<1?1:e)?10:e);try{n?window.playableSDK&&window.playableSDK.sendEvent("enterSection",{section:o,section_remark:n}):window.playableSDK&&window.playableSDK.sendEvent("enterSection",{section:o})}catch(e){n?console.log("enterSection:"+o+","+n):console.log("enterSection:"+o)}},Yeah.getLang=function(){var e=(navigator.browserLanguage||navigator.language).toLowerCase();return"zh-cn"==e?e="zh-cn":"zh"==(e=e.split("-")[0])&&(e="zh-tw"),e},window.playableSDK&&(androidVerRexexpMatchResult=navigator.userAgent.match(/Android\s*[\d\.]+/i),iosVerRexexpMatchResult=navigator.userAgent.match(/iPhone OS\s*[\d\.]+/i),androidVer=6,iosVer=9,androidVerRexexpMatchResult&&(androidVer=parseFloat(androidVerRexexpMatchResult[0].replace(/android\s*/i,""))),iosVerRexexpMatchResult&&(iosVer=parseFloat(iosVerRexexpMatchResult[0].replace(/iPhone OS\s*/i,""))),(androidVer<6||iosVer<9)&&(window.notAutoPlayBgm=!0),playableSDK_viewable=!1,setInterval(function(){playableSDK_viewable?(cc.game.resume(),window.CanvasVideoPlayer&&CanvasVideoPlayer.resume&&CanvasVideoPlayer.resume()):(androidVer<6||iosVer<9||cc.game.pause(),window.CanvasVideoPlayer&&CanvasVideoPlayer.pause&&CanvasVideoPlayer.pause())},100),window.playableSDK.addEventListener&&window.playableSDK.addEventListener("visibilityChange",function(e){playableSDK_viewable=e.viewable}),window.playableSDK.isViewable&&window.playableSDK.isViewable().then(function(e){playableSDK_viewable=e}),setInterval(function e(){var n;e.lastSize!=window.innerWidth+","+window.innerHeight&&((n=document.createEvent("UIEvents")).initEvent("resize",!0,!0),window.dispatchEvent(n)),e.lastSize=window.innerWidth+","+window.innerHeight},10)),boot();</script></body></html>